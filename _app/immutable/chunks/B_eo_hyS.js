import{M as G,E as q,be as H,bf as K,o as Q,h as X,bg as ee,bh as te,bi as re,bj as Z,R as ae,v as se,aI as I,b4 as ne,aW as oe,Y as j,Z as k,bk as ie,k as A,g as ce}from"./bygIupt6.js";import{b as fe}from"./-AtkgsDS.js";import"./Bzak7iHL.js";import{U as J,N as ue,P as le,a as pe,b as V,e as de,H as me,p as ye}from"./BinzpnUI.js";const be=()=>performance.now(),w={tick:e=>requestAnimationFrame(e),now:()=>be(),tasks:new Set};function Y(){const e=w.now();w.tasks.forEach(t=>{t.c(e)||(w.tasks.delete(t),t.f())}),w.tasks.size!==0&&w.tick(Y)}function ve(e){let t;return w.tasks.size===0&&w.tick(Y),{promise:new Promise(r=>{w.tasks.add(t={c:e,f:r})}),abort(){w.tasks.delete(t)}}}function N(e,t){Z(()=>{e.dispatchEvent(new CustomEvent(t))})}function _e(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function L(e){const t={},r=e.split(";");for(const o of r){const[i,c]=o.split(":");if(!i||c===void 0)break;const f=_e(i.trim());t[f]=c.trim()}return t}const $e=e=>e;function Ue(e,t,r,o){var i=(e&te)!==0,c=(e&re)!==0,f=i&&c,p=(e&ee)!==0,$=f?"both":i?"in":"out",a,l=t.inert,n=t.style.overflow,d,b;function v(){return Z(()=>a??(a=r()(t,(o==null?void 0:o())??{},{direction:$})))}var m={is_global:p,in(){var y;if(t.inert=l,!i){b==null||b.abort(),(y=b==null?void 0:b.reset)==null||y.call(b);return}c||d==null||d.abort(),N(t,"introstart"),d=x(t,v(),b,1,()=>{N(t,"introend"),d==null||d.abort(),d=a=void 0,t.style.overflow=n})},out(y){if(!c){y==null||y(),a=void 0;return}t.inert=!0,N(t,"outrostart"),b=x(t,v(),d,0,()=>{N(t,"outroend"),y==null||y()})},stop:()=>{d==null||d.abort(),b==null||b.abort()}},s=G;if((s.transitions??(s.transitions=[])).push(m),i&&fe){var _=p;if(!_){for(var u=s.parent;u&&(u.f&q)!==0;)for(;(u=u.parent)&&(u.f&H)===0;);_=!u||(u.f&K)!==0}_&&Q(()=>{X(()=>m.in())})}}function x(e,t,r,o,i){var c=o===1;if(ae(t)){var f,p=!1;return se(()=>{if(!p){var s=t({direction:c?"in":"out"});f=x(e,s,r,o,i)}}),{abort:()=>{p=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return i(),{abort:I,deactivate:I,reset:I,t:()=>o};const{delay:$=0,css:a,tick:l,easing:n=$e}=t;var d=[];if(c&&r===void 0&&(l&&l(0,1),a)){var b=L(a(0,1));d.push(b,b)}var v=()=>1-o,m=e.animate(d,{duration:$,fill:"forwards"});return m.onfinish=()=>{m.cancel();var s=(r==null?void 0:r.t())??1-o;r==null||r.abort();var _=o-s,u=t.duration*Math.abs(_),y=[];if(u>0){var R=!1;if(a)for(var h=Math.ceil(u/16.666666666666668),E=0;E<=h;E+=1){var U=s+_*n(E/h),F=L(a(U,1-U));y.push(F),R||(R=F.overflow==="hidden")}R&&(e.style.overflow="hidden"),v=()=>{var T=m.currentTime;return s+_*n(T/u)},l&&ve(()=>{if(m.playState!=="running")return!1;var T=v();return l(T,1-T),!0})}m=e.animate(y,{duration:u,fill:"forwards"}),m.onfinish=()=>{v=()=>o,l==null||l(o,1-o),i()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=I)},deactivate:()=>{i=I},reset:()=>{o===0&&(l==null||l(1,0))},t:()=>v()}}class D extends Error{constructor(t,r){super(t),this.name="DevalueError",this.path=r.join("")}}function z(e){return Object(e)!==e}const ge=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function we(e){const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getPrototypeOf(t)===null||Object.getOwnPropertyNames(t).sort().join("\0")===ge}function Ie(e){return Object.prototype.toString.call(e).slice(8,-1)}function Se(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function g(e){let t="",r=0;const o=e.length;for(let i=0;i<o;i+=1){const c=e[i],f=Se(c);f&&(t+=e.slice(r,i)+f,r=i+1)}return`"${r===0?e:t+e.slice(r)}"`}function Oe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.getOwnPropertyDescriptor(e,t).enumerable)}const Te=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function B(e){return Te.test(e)?"."+e:"["+JSON.stringify(e)+"]"}function ke(e,t){const r=[],o=new Map,i=[];if(t)for(const a of Object.getOwnPropertyNames(t))i.push({key:a,fn:t[a]});const c=[];let f=0;function p(a){if(typeof a=="function")throw new D("Cannot stringify a function",c);if(a===void 0)return J;if(Number.isNaN(a))return ue;if(a===1/0)return le;if(a===-1/0)return pe;if(a===0&&1/a<0)return V;if(o.has(a))return o.get(a);const l=f++;o.set(a,l);for(const{key:d,fn:b}of i){const v=b(a);if(v)return r[l]=`["${d}",${p(v)}]`,l}let n="";if(z(a))n=P(a);else{const d=Ie(a);switch(d){case"Number":case"String":case"Boolean":n=`["Object",${P(a)}]`;break;case"BigInt":n=`["BigInt",${a}]`;break;case"Date":n=`["Date","${!isNaN(a.getDate())?a.toISOString():""}"]`;break;case"URL":n=`["URL",${g(a.toString())}]`;break;case"URLSearchParams":n=`["URLSearchParams",${g(a.toString())}]`;break;case"RegExp":const{source:v,flags:m}=a;n=m?`["RegExp",${g(v)},"${m}"]`:`["RegExp",${g(v)}]`;break;case"Array":n="[";for(let s=0;s<a.length;s+=1)s>0&&(n+=","),s in a?(c.push(`[${s}]`),n+=p(a[s]),c.pop()):n+=me;n+="]";break;case"Set":n='["Set"';for(const s of a)n+=`,${p(s)}`;n+="]";break;case"Map":n='["Map"';for(const[s,_]of a)c.push(`.get(${z(s)?P(s):"..."})`),n+=`,${p(s)},${p(_)}`,c.pop();n+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const s=a;n='["'+d+'",'+p(s.buffer);const _=a.byteOffset,u=_+a.byteLength;if(_>0||u!==s.buffer.byteLength){const y=+/(\d+)/.exec(d)[1]/8;n+=`,${_/y},${u/y}`}n+="]";break}case"ArrayBuffer":{n=`["ArrayBuffer","${de(a)}"]`;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":n=`["${d}",${g(a.toString())}]`;break;default:if(!we(a))throw new D("Cannot stringify arbitrary non-POJOs",c);if(Oe(a).length>0)throw new D("Cannot stringify POJOs with symbolic keys",c);if(Object.getPrototypeOf(a)===null){n='["null"';for(const s in a)c.push(B(s)),n+=`,${g(s)},${p(a[s])}`,c.pop();n+="]"}else{n="{";let s=!1;for(const _ in a)s&&(n+=","),s=!0,c.push(B(_)),n+=`${g(_)}:${p(a[_])}`,c.pop();n+="}"}}}return r[l]=n,l}const $=p(e);return $<0?`${$}`:`[${r.join(",")}]`}function P(e){const t=typeof e;return t==="string"?g(e):e instanceof String?g(e.toString()):e===void 0?J.toString():e===0&&1/e<0?V.toString():t==="bigint"?`["BigInt","${e}"]`:String(e)}const Ne=e=>e;function Ee(e){const t=e-1;return t*t*t+1}function M(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Fe(e,{delay:t=0,duration:r=400,easing:o=Ne}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:o,css:c=>`opacity: ${c*i}`}}function Le(e,{delay:t=0,duration:r=400,easing:o=Ee,x:i=0,y:c=0,opacity:f=0}={}){const p=getComputedStyle(e),$=+p.opacity,a=p.transform==="none"?"":p.transform,l=$*(1-f),[n,d]=M(i),[b,v]=M(c);return{delay:t,duration:r,easing:o,css:(m,s)=>`
			transform: ${a} translate(${(1-m)*n}${d}, ${(1-m)*b}${v});
			opacity: ${$-l*s}`}}ne(["click"]);function Ae(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?decodeURIComponent(t[2]):null}function De(e,t,r={}){const{expireDays:o=365,maxAge:i,path:c="/",domain:f,secure:p=!1,sameSite:$="Lax",httpOnly:a=!1}=r;let l=`${e}=${encodeURIComponent(t)}`;if(l+=`; path=${c}`,i!==void 0)l+=`; max-age=${i}`;else{const n=new Date(Date.now()+o*864e5).toUTCString();l+=`; expires=${n}`}f&&(l+=`; domain=${f}`),p&&(l+="; secure"),l+=`; samesite=${$}`,a&&(l+="; httponly"),document.cookie=l}function Pe(e,t={}){return e==="local"?{getItem:r=>localStorage.getItem(r),setItem:(r,o)=>localStorage.setItem(r,o)}:e==="session"?{getItem:r=>sessionStorage.getItem(r),setItem:(r,o)=>sessionStorage.setItem(r,o)}:{getItem:Ae,setItem:(r,o)=>De(r,o,t)}}function S(e,t,r={}){const{storage:o="local",serializer:i=JSON,syncTabs:c=!0,cookieExpireDays:f,cookieOptions:p={},onWriteError:$=console.error,onParseError:a=console.error,beforeRead:l=u=>u,beforeWrite:n=u=>u}=r,d={...p,...f!==void 0&&{expireDays:f}},v=typeof window<"u"&&typeof document<"u"?Pe(o,d):null;let m;try{const u=v==null?void 0:v.getItem(e);m=u?l(i.parse(u)):t}catch(u){a(u),m=t}let s=oe(j(m));function _(u){try{const y=n(u);v==null||v.setItem(e,i.stringify(y))}catch(y){$(y)}}return c&&typeof window<"u"&&o==="local"&&window.addEventListener("storage",u=>{if(u.key===e&&u.storageArea===localStorage)try{const y=u.newValue?i.parse(u.newValue):t;k(s,l(y),!0)}catch(y){a(y)}}),ie(()=>(ce(()=>{_(A(s))}),()=>{})),{get value(){return A(s)},set value(u){k(s,u,!0)},get current(){return A(s)},set current(u){k(s,u,!0)},reset(){k(s,t,!0)}}}const O={stringify:ke,parse:ye},xe={totalAmount:0,totalNoOfPeople:2,peopleData:[{id:1,name:"person-1",paid:0},{id:2,name:"person-2",paid:0}]},C=S("data",{...xe},{serializer:O}),ze=S("appState",{isPWAapp:!1,showInputTable:!1,showOutput:!1},{serializer:O});function Be(e=!1){const t=C.current,r=t.peopleData,o=r.length,i=Math.max(1,Math.floor(t.totalNoOfPeople));if(o!==i){const c=[];for(let f=0;f<i;f++)e&&r[f]?c.push(r[f]):c.push({id:f+1,name:"person-"+(f+1),paid:0});c.forEach((f,p)=>{f.id=p+1}),t.peopleData=c,C.current=t}}const Me=j({mermaidLoading:!1,mermaidString:""}),W=j({optimumTransactions:[],fullTableData:[]});function We(){const e=C.current,t=e.peopleData.map(r=>{const o=e.totalAmount/e.totalNoOfPeople-r.paid,i=[];return W.optimumTransactions.forEach(([c,f,p])=>{r.name===c&&i.push({to:f,amount:p})}),[r.id,r.name,r.paid,o,i]});return W.fullTableData=t,t}const Ze=S("groups",[],{serializer:O}),Je=S("ledgers",[],{serializer:O}),Ve=S("activeLedgerId",null,{serializer:O});export{ze as a,Ve as b,Le as c,W as d,C as e,Fe as f,Ze as g,We as h,Je as l,Me as m,Be as r,Ue as t};
