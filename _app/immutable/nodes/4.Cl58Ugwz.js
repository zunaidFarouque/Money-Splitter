import"../chunks/Bzak7iHL.js";import{a as mn,s as H,c as Zn,o as er}from"../chunks/-AtkgsDS.js";import{q as tr,bl as nr,p as Se,f as M,d,s as m,k as s,a8 as ce,r as l,t as q,b as w,c as Te,aI as rr,aX as fe,a as ne,b4 as Ye,aW as ee,Z as I,aY as or,g as Et,Y as Qe,a9 as At}from"../chunks/bygIupt6.js";import{p as se,r as ar,i as X,l as Nt,s as $t}from"../chunks/C3QY51gE.js";import{r as Dt,n as sr,i as ir,a as cr,g as lr,b as dr,c as ur,d as fr,e as gn,t as vr,p as pr,f as mr,h as gr,j as hr,k as br,l as _r,m as xr,o as yr,q as wr,u as Or,s as lt,v as Cr,w as Ar,x as Pr,I as zt,y as Wt,z as ie,A as mt,B as et,C as In,D as hn,M as Ze}from"../chunks/Cv1ivspn.js";import{b as Ot,a as Lt,S as bn,r as De,c as sn}from"../chunks/D6Mn4qJc.js";import{t as kr,f as Er,g as re,l as Y,b as ct}from"../chunks/B_eo_hyS.js";import"../chunks/CF38WNv7.js";function Sr(t,e,n,r=n){e.addEventListener("input",()=>{r(e[t])}),tr(()=>{var o=n();if(e[t]!==o)if(o==null){var a=e[t];r(a)}else e[t]=o+""})}const Tr=["top","right","bottom","left"],tt=Math.min,be=Math.max,Rt=Math.round,Bt=Math.floor,Re=t=>({x:t,y:t}),Br={left:"right",right:"left",bottom:"top",top:"bottom"},Mr={start:"end",end:"start"};function Zt(t,e,n){return be(t,tt(e,n))}function Ve(t,e){return typeof t=="function"?t(e):t}function Ue(t){return t.split("-")[0]}function ht(t){return t.split("-")[1]}function cn(t){return t==="x"?"y":"x"}function ln(t){return t==="y"?"height":"width"}const Dr=new Set(["top","bottom"]);function Le(t){return Dr.has(Ue(t))?"y":"x"}function dn(t){return cn(Le(t))}function Lr(t,e,n){n===void 0&&(n=!1);const r=ht(t),o=dn(t),a=ln(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=It(i)),[i,It(i)]}function Rr(t){const e=It(t);return[en(t),e,en(e)]}function en(t){return t.replace(/start|end/g,e=>Mr[e])}const _n=["left","right"],xn=["right","left"],Ir=["top","bottom"],Fr=["bottom","top"];function Nr(t,e,n){switch(t){case"top":case"bottom":return n?e?xn:_n:e?_n:xn;case"left":case"right":return e?Ir:Fr;default:return[]}}function $r(t,e,n,r){const o=ht(t);let a=Nr(Ue(t),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),e&&(a=a.concat(a.map(en)))),a}function It(t){return t.replace(/left|right|bottom|top/g,e=>Br[e])}function zr(t){return{top:0,right:0,bottom:0,left:0,...t}}function Fn(t){return typeof t!="number"?zr(t):{top:t,right:t,bottom:t,left:t}}function Ft(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function yn(t,e,n){let{reference:r,floating:o}=t;const a=Le(e),i=dn(e),c=ln(i),u=Ue(e),f=a==="y",v=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,_=r[c]/2-o[c]/2;let p;switch(u){case"top":p={x:v,y:r.y-o.height};break;case"bottom":p={x:v,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-o.width,y:h};break;default:p={x:r.x,y:r.y}}switch(ht(e)){case"start":p[i]-=_*(n&&f?-1:1);break;case"end":p[i]+=_*(n&&f?-1:1);break}return p}const Wr=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,c=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let f=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:v,y:h}=yn(f,r,u),_=r,p={},g=0;for(let O=0;O<c.length;O++){const{name:y,fn:E}=c[O],{x:D,y:L,data:b,reset:P}=await E({x:v,y:h,initialPlacement:r,placement:_,strategy:o,middlewareData:p,rects:f,platform:i,elements:{reference:t,floating:e}});v=D??v,h=L??h,p={...p,[y]:{...p[y],...b}},P&&g<=50&&(g++,typeof P=="object"&&(P.placement&&(_=P.placement),P.rects&&(f=P.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):P.rects),{x:v,y:h}=yn(f,_,u)),O=-1)}return{x:v,y:h,placement:_,strategy:o,middlewareData:p}};async function Pt(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:i,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:_=!1,padding:p=0}=Ve(e,t),g=Fn(p),y=c[_?h==="floating"?"reference":"floating":h],E=Ft(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:v,strategy:u})),D=h==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),b=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},P=Ft(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:L,strategy:u}):D);return{top:(E.top-P.top+g.top)/b.y,bottom:(P.bottom-E.bottom+g.bottom)/b.y,left:(E.left-P.left+g.left)/b.x,right:(P.right-E.right+g.right)/b.x}}const jr=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:a,platform:i,elements:c,middlewareData:u}=e,{element:f,padding:v=0}=Ve(t,e)||{};if(f==null)return{};const h=Fn(v),_={x:n,y:r},p=dn(o),g=ln(p),O=await i.getDimensions(f),y=p==="y",E=y?"top":"left",D=y?"bottom":"right",L=y?"clientHeight":"clientWidth",b=a.reference[g]+a.reference[p]-_[p]-a.floating[g],P=_[p]-a.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let k=S?S[L]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=c.floating[L]||a.floating[g]);const R=b/2-P/2,N=k/2-O[g]/2-1,W=tt(h[E],N),B=tt(h[D],N),A=W,$=k-O[g]-B,T=k/2-O[g]/2+R,F=Zt(A,T,$),z=!u.arrow&&ht(o)!=null&&T!==F&&a.reference[g]/2-(T<A?W:B)-O[g]/2<0,U=z?T<A?T-A:T-$:0;return{[p]:_[p]+U,data:{[p]:F,centerOffset:T-F-U,...z&&{alignmentOffset:U}},reset:z}}}),Hr=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:_,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:O=!0,...y}=Ve(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const E=Ue(o),D=Le(c),L=Ue(c)===c,b=await(u.isRTL==null?void 0:u.isRTL(f.floating)),P=_||(L||!O?[It(c)]:Rr(c)),S=g!=="none";!_&&S&&P.push(...$r(c,O,g,b));const k=[c,...P],R=await Pt(e,y),N=[];let W=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&N.push(R[E]),h){const T=Lr(o,i,b);N.push(R[T[0]],R[T[1]])}if(W=[...W,{placement:o,overflows:N}],!N.every(T=>T<=0)){var B,A;const T=(((B=a.flip)==null?void 0:B.index)||0)+1,F=k[T];if(F&&(!(h==="alignment"?D!==Le(F):!1)||W.every(V=>Le(V.placement)===D?V.overflows[0]>0:!0)))return{data:{index:T,overflows:W},reset:{placement:F}};let z=(A=W.filter(U=>U.overflows[0]<=0).sort((U,V)=>U.overflows[1]-V.overflows[1])[0])==null?void 0:A.placement;if(!z)switch(p){case"bestFit":{var $;const U=($=W.filter(V=>{if(S){const x=Le(V.placement);return x===D||x==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(x=>x>0).reduce((x,C)=>x+C,0)]).sort((V,x)=>V[1]-x[1])[0])==null?void 0:$[0];U&&(z=U);break}case"initialPlacement":z=c;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function wn(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function On(t){return Tr.some(e=>t[e]>=0)}const Gr=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Ve(t,e);switch(r){case"referenceHidden":{const a=await Pt(e,{...o,elementContext:"reference"}),i=wn(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:On(i)}}}case"escaped":{const a=await Pt(e,{...o,altBoundary:!0}),i=wn(a,n.floating);return{data:{escapedOffsets:i,escaped:On(i)}}}default:return{}}}}},Nn=new Set(["left","top"]);async function Vr(t,e){const{placement:n,platform:r,elements:o}=t,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=Ue(n),c=ht(n),u=Le(n)==="y",f=Nn.has(i)?-1:1,v=a&&u?-1:1,h=Ve(e,t);let{mainAxis:_,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof g=="number"&&(p=c==="end"?g*-1:g),u?{x:p*v,y:_*f}:{x:_*f,y:p*v}}const Ur=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:a,placement:i,middlewareData:c}=e,u=await Vr(e,t);return i===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:a+u.y,data:{...u,placement:i}}}}},Yr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:y=>{let{x:E,y:D}=y;return{x:E,y:D}}},...u}=Ve(t,e),f={x:n,y:r},v=await Pt(e,u),h=Le(Ue(o)),_=cn(h);let p=f[_],g=f[h];if(a){const y=_==="y"?"top":"left",E=_==="y"?"bottom":"right",D=p+v[y],L=p-v[E];p=Zt(D,p,L)}if(i){const y=h==="y"?"top":"left",E=h==="y"?"bottom":"right",D=g+v[y],L=g-v[E];g=Zt(D,g,L)}const O=c.fn({...e,[_]:p,[h]:g});return{...O,data:{x:O.x-n,y:O.y-r,enabled:{[_]:a,[h]:i}}}}}},qr=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=Ve(t,e),v={x:n,y:r},h=Le(o),_=cn(h);let p=v[_],g=v[h];const O=Ve(c,e),y=typeof O=="number"?{mainAxis:O,crossAxis:0}:{mainAxis:0,crossAxis:0,...O};if(u){const L=_==="y"?"height":"width",b=a.reference[_]-a.floating[L]+y.mainAxis,P=a.reference[_]+a.reference[L]-y.mainAxis;p<b?p=b:p>P&&(p=P)}if(f){var E,D;const L=_==="y"?"width":"height",b=Nn.has(Ue(o)),P=a.reference[h]-a.floating[L]+(b&&((E=i.offset)==null?void 0:E[h])||0)+(b?0:y.crossAxis),S=a.reference[h]+a.reference[L]+(b?0:((D=i.offset)==null?void 0:D[h])||0)-(b?y.crossAxis:0);g<P?g=P:g>S&&(g=S)}return{[_]:p,[h]:g}}}},Xr=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:a,platform:i,elements:c}=e,{apply:u=()=>{},...f}=Ve(t,e),v=await Pt(e,f),h=Ue(o),_=ht(o),p=Le(o)==="y",{width:g,height:O}=a.floating;let y,E;h==="top"||h==="bottom"?(y=h,E=_===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(E=h,y=_==="end"?"top":"bottom");const D=O-v.top-v.bottom,L=g-v.left-v.right,b=tt(O-v[y],D),P=tt(g-v[E],L),S=!e.middlewareData.shift;let k=b,R=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),S&&!_){const W=be(v.left,0),B=be(v.right,0),A=be(v.top,0),$=be(v.bottom,0);p?R=g-2*(W!==0||B!==0?W+B:be(v.left,v.right)):k=O-2*(A!==0||$!==0?A+$:be(v.top,v.bottom))}await u({...e,availableWidth:R,availableHeight:k});const N=await i.getDimensions(c.floating);return g!==N.width||O!==N.height?{reset:{rects:!0}}:{}}}};function jt(){return typeof window<"u"}function bt(t){return $n(t)?(t.nodeName||"").toLowerCase():"#document"}function _e(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fe(t){var e;return(e=($n(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function $n(t){return jt()?t instanceof Node||t instanceof _e(t).Node:!1}function ke(t){return jt()?t instanceof Element||t instanceof _e(t).Element:!1}function Ie(t){return jt()?t instanceof HTMLElement||t instanceof _e(t).HTMLElement:!1}function Cn(t){return!jt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _e(t).ShadowRoot}const Jr=new Set(["inline","contents"]);function St(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Ee(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Jr.has(o)}const Kr=new Set(["table","td","th"]);function Qr(t){return Kr.has(bt(t))}const Zr=[":popover-open",":modal"];function Ht(t){return Zr.some(e=>{try{return t.matches(e)}catch{return!1}})}const eo=["transform","translate","scale","rotate","perspective"],to=["transform","translate","scale","rotate","perspective","filter"],no=["paint","layout","strict","content"];function un(t){const e=fn(),n=ke(t)?Ee(t):t;return eo.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||to.some(r=>(n.willChange||"").includes(r))||no.some(r=>(n.contain||"").includes(r))}function ro(t){let e=nt(t);for(;Ie(e)&&!gt(e);){if(un(e))return e;if(Ht(e))return null;e=nt(e)}return null}function fn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oo=new Set(["html","body","#document"]);function gt(t){return oo.has(bt(t))}function Ee(t){return _e(t).getComputedStyle(t)}function Gt(t){return ke(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function nt(t){if(bt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cn(t)&&t.host||Fe(t);return Cn(e)?e.host:e}function zn(t){const e=nt(t);return gt(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ie(e)&&St(e)?e:zn(e)}function kt(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=zn(t),a=o===((r=t.ownerDocument)==null?void 0:r.body),i=_e(o);if(a){const c=tn(i);return e.concat(i,i.visualViewport||[],St(o)?o:[],c&&n?kt(c):[])}return e.concat(o,kt(o,[],n))}function tn(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wn(t){const e=Ee(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Ie(t),a=o?t.offsetWidth:n,i=o?t.offsetHeight:r,c=Rt(n)!==a||Rt(r)!==i;return c&&(n=a,r=i),{width:n,height:r,$:c}}function vn(t){return ke(t)?t:t.contextElement}function pt(t){const e=vn(t);if(!Ie(e))return Re(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:a}=Wn(e);let i=(a?Rt(n.width):n.width)/r,c=(a?Rt(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const ao=Re(0);function jn(t){const e=_e(t);return!fn()||!e.visualViewport?ao:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function so(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_e(t)?!1:e}function dt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=vn(t);let i=Re(1);e&&(r?ke(r)&&(i=pt(r)):i=pt(t));const c=so(a,n,r)?jn(a):Re(0);let u=(o.left+c.x)/i.x,f=(o.top+c.y)/i.y,v=o.width/i.x,h=o.height/i.y;if(a){const _=_e(a),p=r&&ke(r)?_e(r):r;let g=_,O=tn(g);for(;O&&r&&p!==g;){const y=pt(O),E=O.getBoundingClientRect(),D=Ee(O),L=E.left+(O.clientLeft+parseFloat(D.paddingLeft))*y.x,b=E.top+(O.clientTop+parseFloat(D.paddingTop))*y.y;u*=y.x,f*=y.y,v*=y.x,h*=y.y,u+=L,f+=b,g=_e(O),O=tn(g)}}return Ft({width:v,height:h,x:u,y:f})}function Vt(t,e){const n=Gt(t).scrollLeft;return e?e.left+n:dt(Fe(t)).left+n}function Hn(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Vt(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function io(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const a=o==="fixed",i=Fe(r),c=e?Ht(e.floating):!1;if(r===i||c&&a)return n;let u={scrollLeft:0,scrollTop:0},f=Re(1);const v=Re(0),h=Ie(r);if((h||!h&&!a)&&((bt(r)!=="body"||St(i))&&(u=Gt(r)),Ie(r))){const p=dt(r);f=pt(r),v.x=p.x+r.clientLeft,v.y=p.y+r.clientTop}const _=i&&!h&&!a?Hn(i,u):Re(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+v.x+_.x,y:n.y*f.y-u.scrollTop*f.y+v.y+_.y}}function co(t){return Array.from(t.getClientRects())}function lo(t){const e=Fe(t),n=Gt(t),r=t.ownerDocument.body,o=be(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=be(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Vt(t);const c=-n.scrollTop;return Ee(r).direction==="rtl"&&(i+=be(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:c}}const An=25;function uo(t,e){const n=_e(t),r=Fe(t),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,c=0,u=0;if(o){a=o.width,i=o.height;const v=fn();(!v||v&&e==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}const f=Vt(r);if(f<=0){const v=r.ownerDocument,h=v.body,_=getComputedStyle(h),p=v.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-p);g<=An&&(a-=g)}else f<=An&&(a+=f);return{width:a,height:i,x:c,y:u}}const fo=new Set(["absolute","fixed"]);function vo(t,e){const n=dt(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,a=Ie(t)?pt(t):Re(1),i=t.clientWidth*a.x,c=t.clientHeight*a.y,u=o*a.x,f=r*a.y;return{width:i,height:c,x:u,y:f}}function Pn(t,e,n){let r;if(e==="viewport")r=uo(t,n);else if(e==="document")r=lo(Fe(t));else if(ke(e))r=vo(e,n);else{const o=jn(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Ft(r)}function Gn(t,e){const n=nt(t);return n===e||!ke(n)||gt(n)?!1:Ee(n).position==="fixed"||Gn(n,e)}function po(t,e){const n=e.get(t);if(n)return n;let r=kt(t,[],!1).filter(c=>ke(c)&&bt(c)!=="body"),o=null;const a=Ee(t).position==="fixed";let i=a?nt(t):t;for(;ke(i)&&!gt(i);){const c=Ee(i),u=un(i);!u&&c.position==="fixed"&&(o=null),(a?!u&&!o:!u&&c.position==="static"&&!!o&&fo.has(o.position)||St(i)&&!u&&Gn(t,i))?r=r.filter(v=>v!==i):o=c,i=nt(i)}return e.set(t,r),r}function mo(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?Ht(e)?[]:po(e,this._c):[].concat(n),r],c=i[0],u=i.reduce((f,v)=>{const h=Pn(e,v,o);return f.top=be(h.top,f.top),f.right=tt(h.right,f.right),f.bottom=tt(h.bottom,f.bottom),f.left=be(h.left,f.left),f},Pn(e,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function go(t){const{width:e,height:n}=Wn(t);return{width:e,height:n}}function ho(t,e,n){const r=Ie(e),o=Fe(e),a=n==="fixed",i=dt(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const u=Re(0);function f(){u.x=Vt(o)}if(r||!r&&!a)if((bt(e)!=="body"||St(o))&&(c=Gt(e)),r){const p=dt(e,!0,a,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else o&&f();a&&!r&&o&&f();const v=o&&!r&&!a?Hn(o,c):Re(0),h=i.left+c.scrollLeft-u.x-v.x,_=i.top+c.scrollTop-u.y-v.y;return{x:h,y:_,width:i.width,height:i.height}}function Qt(t){return Ee(t).position==="static"}function kn(t,e){if(!Ie(t)||Ee(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fe(t)===n&&(n=n.ownerDocument.body),n}function Vn(t,e){const n=_e(t);if(Ht(t))return n;if(!Ie(t)){let o=nt(t);for(;o&&!gt(o);){if(ke(o)&&!Qt(o))return o;o=nt(o)}return n}let r=kn(t,e);for(;r&&Qr(r)&&Qt(r);)r=kn(r,e);return r&&gt(r)&&Qt(r)&&!un(r)?n:r||ro(t)||n}const bo=async function(t){const e=this.getOffsetParent||Vn,n=this.getDimensions,r=await n(t.floating);return{reference:ho(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _o(t){return Ee(t).direction==="rtl"}const xo={convertOffsetParentRelativeRectToViewportRelativeRect:io,getDocumentElement:Fe,getClippingRect:mo,getOffsetParent:Vn,getElementRects:bo,getClientRects:co,getDimensions:go,getScale:pt,isElement:ke,isRTL:_o};function Un(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yo(t,e){let n=null,r;const o=Fe(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),a();const f=t.getBoundingClientRect(),{left:v,top:h,width:_,height:p}=f;if(c||e(),!_||!p)return;const g=Bt(h),O=Bt(o.clientWidth-(v+_)),y=Bt(o.clientHeight-(h+p)),E=Bt(v),L={rootMargin:-g+"px "+-O+"px "+-y+"px "+-E+"px",threshold:be(0,tt(1,u))||1};let b=!0;function P(S){const k=S[0].intersectionRatio;if(k!==u){if(!b)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Un(f,t.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(P,{...L,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,L)}n.observe(t)}return i(!0),a}function wo(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=vn(t),v=o||a?[...f?kt(f):[],...kt(e)]:[];v.forEach(E=>{o&&E.addEventListener("scroll",n,{passive:!0}),a&&E.addEventListener("resize",n)});const h=f&&c?yo(f,n):null;let _=-1,p=null;i&&(p=new ResizeObserver(E=>{let[D]=E;D&&D.target===f&&p&&(p.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var L;(L=p)==null||L.observe(e)})),n()}),f&&!u&&p.observe(f),p.observe(e));let g,O=u?dt(t):null;u&&y();function y(){const E=dt(t);O&&!Un(O,E)&&n(),O=E,g=requestAnimationFrame(y)}return n(),()=>{var E;v.forEach(D=>{o&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),h==null||h(),(E=p)==null||E.disconnect(),p=null,u&&cancelAnimationFrame(g)}}const Oo=Ur,Co=Yr,Ao=Hr,Po=Xr,ko=Gr,Eo=jr,So=qr,To=(t,e,n)=>{const r=new Map,o={platform:xo,...n},a={...o.platform,_c:r};return Wr(t,e,{...o,platform:a})};function En(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const o={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...o,toJSON:()=>o}}function Bo(t){if(!t)return En();const{x:e,y:n,width:r,height:o}=t;return En(e,n,r,o)}function Mo(t,e){return{contextElement:ir(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?Bo(r):n.getBoundingClientRect()}}}var Ct=t=>({variable:t,reference:`var(${t})`}),Ge={arrowSize:Ct("--arrow-size"),arrowSizeHalf:Ct("--arrow-size-half"),arrowBg:Ct("--arrow-background"),transformOrigin:Ct("--transform-origin"),arrowOffset:Ct("--arrow-offset")},Do=t=>t==="top"||t==="bottom"?"y":"x";function Lo(t,e){return{name:"transformOrigin",fn(n){var N,W,B,A;const{elements:r,middlewareData:o,placement:a,rects:i,y:c}=n,u=a.split("-")[0],f=Do(u),v=((N=o.arrow)==null?void 0:N.x)||0,h=((W=o.arrow)==null?void 0:W.y)||0,_=(e==null?void 0:e.clientWidth)||0,p=(e==null?void 0:e.clientHeight)||0,g=v+_/2,O=h+p/2,y=Math.abs(((B=o.shift)==null?void 0:B.y)||0),E=i.reference.height/2,D=p/2,L=((A=t.offset)==null?void 0:A.mainAxis)??t.gutter,b=typeof L=="number"?L+D:L??D,P=y>b,S={top:`${g}px calc(100% + ${b}px)`,bottom:`${g}px ${-b}px`,left:`calc(100% + ${b}px) ${O}px`,right:`${-b}px ${O}px`}[u],k=`${g}px ${i.reference.y+E-c}px`,R=!!t.overlap&&f==="y"&&P;return r.floating.style.setProperty(Ge.transformOrigin.variable,R?k:S),{data:{transformOrigin:R?k:S}}}}}var Ro={name:"rects",fn({rects:t}){return{data:t}}},Io=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:o}=n.arrow,a=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:o!=null?`${o}px`:"",[a]:`calc(100% + ${Ge.arrowOffset.reference})`}),{}}}};function Fo(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var No={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Sn(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function pn(t){return typeof t=="function"?t():t==="clipping-ancestors"?"clippingAncestors":t}function $o(t,e,n){const r=t||e.createElement("div");return Eo({element:r,padding:n.arrowPadding})}function zo(t,e){if(!cr(e.offset??e.gutter))return Oo(({placement:n})=>{var f,v;const r=((t==null?void 0:t.clientHeight)||0)/2,o=((f=e.offset)==null?void 0:f.mainAxis)??e.gutter,a=typeof o=="number"?o+r:o??r,{hasAlign:i}=Fo(n),c=i?void 0:e.shift,u=((v=e.offset)==null?void 0:v.crossAxis)??c;return ur({crossAxis:u,mainAxis:a,alignmentAxis:e.shift})})}function Wo(t){if(!t.flip)return;const e=pn(t.boundary);return Ao({...e?{boundary:e}:void 0,padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function jo(t){if(!t.slide&&!t.overlap)return;const e=pn(t.boundary);return Co({...e?{boundary:e}:void 0,mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:So()})}function Ho(t){return Po({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:o}){const a=e.floating,i=Math.round(n.reference.width),c=Math.round(n.reference.height);o=Math.floor(o),r=Math.floor(r),a.style.setProperty("--reference-width",`${i}px`),a.style.setProperty("--reference-height",`${c}px`),a.style.setProperty("--available-width",`${o}px`),a.style.setProperty("--available-height",`${r}px`)}})}function Go(t){if(t.hideWhenDetached)return ko({strategy:"referenceHidden",boundary:pn(t.boundary)??"clippingAncestors"})}function Vo(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Uo(t,e,n={}){const r=Mo(t,n.getAnchorRect);if(!e||!r)return;const o=Object.assign({},No,n),a=e.querySelector("[data-part=arrow]"),i=[zo(a,o),Wo(o),jo(o),$o(a,e.ownerDocument,o),Io(a),Lo({gutter:o.gutter,offset:o.offset,overlap:o.overlap},a),Ho(o),Go(o),Ro],{placement:c,strategy:u,onComplete:f,onPositioned:v}=o,h=async()=>{var b;if(!r||!e)return;const O=await To(r,e,{placement:c,middleware:i,strategy:u});f==null||f(O),v==null||v({placed:!0});const y=lr(e),E=Sn(y,O.x),D=Sn(y,O.y);e.style.setProperty("--x",`${E}px`),e.style.setProperty("--y",`${D}px`),o.hideWhenDetached&&(((b=O.middlewareData.hide)==null?void 0:b.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const L=e.firstElementChild;if(L){const P=dr(L);e.style.setProperty("--z-index",P.zIndex)}},_=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:h,floatingElement:e}),v==null||v({placed:!0})):await h()},p=Vo(o.listeners),g=o.listeners?wo(r,e,_,p):sr;return _(),()=>{g==null||g(),v==null||v({placed:!1})}}function Tn(t,e,n={}){const{defer:r,...o}=n,a=r?Dt:c=>c(),i=[];return i.push(a(()=>{const c=typeof t=="function"?t():t,u=typeof e=="function"?e():e;i.push(Uo(c,u,o))})),()=>{i.forEach(c=>c==null?void 0:c())}}var Yo={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function qo(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:o="absolute"}=t;return{arrow:{position:"absolute",width:Ge.arrowSize.reference,height:Ge.arrowSize.reference,[Ge.arrowSizeHalf.variable]:`calc(${Ge.arrowSize.reference} / 2)`,[Ge.arrowOffset.variable]:`calc(${Ge.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Yo[e.split("-")[0]]:void 0,background:Ge.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:o,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Xo=br("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Me=Xo.build(),Yn=t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},qn=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},nn=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},Xn=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},Jo=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},rn=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},on=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},Ko=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},Bn=t=>t.getById(Yn(t)),ft=t=>t.getById(qn(t)),vt=t=>t.getById(nn(t)),Mn=t=>t.getById(Xn(t)),Qo=t=>t.getById(rn(t)),Zo=t=>t.getById(on(t));function ea(t,e){const{state:n,context:r,send:o,computed:a,prop:i,scope:c}=t,u=n.matches("open"),f=r.get("currentPlacement"),v=a("currentPortalled"),h=r.get("renderedElements"),_=qo({...i("positioning"),placement:f});return{portalled:v,open:u,setOpen(p){n.matches("open")!==p&&o({type:p?"OPEN":"CLOSE"})},reposition(p={}){o({type:"POSITIONING.SET",options:p})},getArrowProps(){return e.element({id:Jo(c),...Me.arrow.attrs,dir:i("dir"),style:_.arrow})},getArrowTipProps(){return e.element({...Me.arrowTip.attrs,dir:i("dir"),style:_.arrowTip})},getAnchorProps(){return e.element({...Me.anchor.attrs,dir:i("dir"),id:Yn(c)})},getTriggerProps(){return e.button({...Me.trigger.attrs,dir:i("dir"),type:"button","data-placement":f,id:qn(c),"aria-haspopup":"dialog","aria-expanded":u,"data-state":u?"open":"closed","aria-controls":nn(c),onPointerDown(p){xr(p)&&yr()&&p.currentTarget.focus()},onClick(p){p.defaultPrevented||o({type:"TOGGLE"})},onBlur(p){o({type:"TRIGGER_BLUR",target:p.relatedTarget})}})},getIndicatorProps(){return e.element({...Me.indicator.attrs,dir:i("dir"),"data-state":u?"open":"closed"})},getPositionerProps(){return e.element({id:Xn(c),...Me.positioner.attrs,dir:i("dir"),style:_.floating})},getContentProps(){return e.element({...Me.content.attrs,dir:i("dir"),id:nn(c),tabIndex:-1,role:"dialog",hidden:!u,"data-state":u?"open":"closed","data-expanded":_r(u),"aria-labelledby":h.title?rn(c):void 0,"aria-describedby":h.description?on(c):void 0,"data-placement":f})},getTitleProps(){return e.element({...Me.title.attrs,id:rn(c),dir:i("dir")})},getDescriptionProps(){return e.element({...Me.description.attrs,id:on(c),dir:i("dir")})},getCloseTriggerProps(){return e.button({...Me.closeTrigger.attrs,dir:i("dir"),id:Ko(c),type:"button","aria-label":"close",onClick(p){p.defaultPrevented||(p.stopPropagation(),o({type:"CLOSE"}))}})}}}var ta=fr({props({props:t}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{currentPlacement:t(()=>({defaultValue:void 0})),renderedElements:t(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:t})=>!!t("modal")||!!t("portalled")},watch({track:t,prop:e,action:n}){t([()=>e("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackPositioning({context:t,prop:e,scope:n}){t.set("currentPlacement",e("positioning").placement);const r=Bn(n)??ft(n);return Tn(r,()=>Mn(n),{...e("positioning"),defer:!0,onComplete(a){t.set("currentPlacement",a.placement)}})},trackDismissableElement({send:t,prop:e,scope:n}){const r=()=>vt(n);let o=!0;return hr(r,{type:"popover",pointerBlocking:e("modal"),exclude:ft(n),defer:!0,onEscapeKeyDown(a){var i;(i=e("onEscapeKeyDown"))==null||i(a),!e("closeOnEscape")&&a.preventDefault()},onInteractOutside(a){var i;(i=e("onInteractOutside"))==null||i(a),!a.defaultPrevented&&(o=!(a.detail.focusable||a.detail.contextmenu),e("closeOnInteractOutside")||a.preventDefault())},onPointerDownOutside:e("onPointerDownOutside"),onFocusOutside:e("onFocusOutside"),persistentElements:e("persistentElements"),onRequestDismiss:e("onRequestDismiss"),onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},proxyTabFocus({prop:t,scope:e}){return t("modal")||!t("portalled")?void 0:gr(()=>vt(e),{triggerElement:ft(e),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:t,scope:e}){return t("modal")?mr(()=>[vt(e),ft(e)],{defer:!0}):void 0},preventScroll({prop:t,scope:e}){if(t("modal"))return pr(e.getDoc())},trapFocus({prop:t,scope:e}){return t("modal")?vr(()=>vt(e),{initialFocus:()=>gn({root:vt(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")})}):void 0}},actions:{reposition({event:t,prop:e,scope:n,context:r}){const o=Bn(n)??ft(n);Tn(o,()=>Mn(n),{...e("positioning"),...t.options,defer:!0,listeners:!1,onComplete(i){r.set("currentPlacement",i.placement)}})},checkRenderedElements({context:t,scope:e}){Dt(()=>{Object.assign(t.get("renderedElements"),{title:!!Qo(e),description:!!Zo(e)})})},setInitialFocus({prop:t,scope:e}){t("modal")||Dt(()=>{const n=gn({root:vt(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:t,scope:e}){var r;const n=t.restoreFocus??((r=t.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Dt(()=>{const o=ft(e);o==null||o.focus({preventScroll:!0})})},invokeOnOpen({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!0})})},invokeOnClose({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!1})})},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}});wr()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);var na=M("<button><!></button>"),ra=M("<div><div></div></div>"),oa=M("<div><!> <div><!></div></div>"),aa=M('<span data-testid="popover"><!> <div><!></div></span>');function Mt(t,e){const n=nr();Se(e,!0);const r=se(e,"zIndex",3,"auto"),o=se(e,"arrow",3,!1),a=se(e,"arrowBackground",3,"var(--color-surface-950-50)"),i=se(e,"arrowSize",3,"10px"),c=se(e,"base",3,""),u=se(e,"classes",3,""),f=se(e,"triggerBase",3,""),v=se(e,"triggerBackground",3,""),h=se(e,"triggerClasses",3,""),_=se(e,"triggerAriaLabel",3,""),p=se(e,"positionerBase",3,""),g=se(e,"positionerClasses",3,""),O=se(e,"contentBase",3,""),y=se(e,"contentBackground",3,""),E=se(e,"contentClasses",3,""),D=se(e,"arrowBase",3,""),L=se(e,"arrowClasses",3,""),b=ar(e,["$$slots","$$events","$$legacy","zIndex","arrow","arrowBackground","arrowSize","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowClasses","trigger","content","onclick"]),P=Or(ta,()=>({id:n,...b})),S=ce(()=>ea(P,Pr)),k=ce(()=>Ar(s(S).getTriggerProps(),{onclick:e.onclick}));var R=aa(),N=d(R);{var W=T=>{var F=na();Ot(F,()=>({...s(k),class:`${f()??""} ${v()??""} ${h()??""}`,type:"button","aria-label":_()}));var z=d(F);mn(z,()=>e.trigger),l(F),w(T,F)};X(N,T=>{e.trigger&&T(W)})}var B=m(N,2);Ot(B,T=>({...T,class:`${p()??""} ${g()??""}`}),[()=>s(S).getPositionerProps()]);var A=d(B);{var $=T=>{var F=oa();Ot(F,C=>({...C,style:`z-index: ${r()??""};`}),[()=>s(S).getContentProps()]);var z=d(F);{var U=C=>{var j=ra();Ot(j,(oe,K)=>({...oe,[bn]:K}),[()=>s(S).getArrowProps(),()=>({"--arrow-size":i()})]);var G=d(j);Ot(G,(oe,K)=>({...oe,class:`${D()??""} ${L()??""}`,[bn]:K}),[()=>s(S).getArrowTipProps(),()=>({"--arrow-background":a()})]),l(j),w(C,j)};X(z,C=>{o()&&C(U)})}var V=m(z,2),x=d(V);mn(x,()=>e.content??rr),l(V),l(F),q(()=>Lt(V,1,`${O()??""} ${y()??""} ${E()??""}`)),kr(3,F,()=>Er,()=>({duration:100})),w(T,F)};X(A,T=>{s(S).open&&T($)})}l(B),lt(B,(T,F)=>{var z;return(z=Cr)==null?void 0:z(T,F)},()=>({disabled:!s(S).portalled})),l(R),q(()=>Lt(R,1,`${c()??""} ${u()??""}`)),w(t,R),Te()}function sa(t,e){const n=Nt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];zt(t,$t({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(o,a)=>{var i=fe(),c=ne(i);Wt(c,e,"default",{}),w(o,i)},$$slots:{default:!0}}))}function ia(t,e){const n=Nt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];zt(t,$t({name:"square-pen"},()=>n,{get iconNode(){return r},children:(o,a)=>{var i=fe(),c=ne(i);Wt(c,e,"default",{}),w(o,i)},$$slots:{default:!0}}))}function an(t,e){const n=Nt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];zt(t,$t({name:"trash-2"},()=>n,{get iconNode(){return r},children:(o,a)=>{var i=fe(),c=ne(i);Wt(c,e,"default",{}),w(o,i)},$$slots:{default:!0}}))}function Dn(t,e){const n=Nt(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];zt(t,$t({name:"triangle-alert"},()=>n,{get iconNode(){return r},children:(o,a)=>{var i=fe(),c=ne(i);Wt(c,e,"default",{}),w(o,i)},$$slots:{default:!0}}))}function ca(t,e){I(e,{id:crypto.randomUUID(),name:"",members:[]},!0)}var la=(t,e)=>t.key==="Enter"&&e(),da=M('<span class="float-right text-sm text-red-600">No Dupes!</span>'),ua=(t,e,n)=>e(s(n).id),fa=M('<li class="flex items-center justify-between"><span> </span> <button class="btn-icon btn-icon-sm"><!></button></li>'),va=M('<div class="flex-grow space-y-4 overflow-y-auto"><h3 class="h3"> </h3> <label class="label"><span>Group Name</span> <input class="input" type="text" placeholder="e.g., Tour Buddies"/></label> <div><h4 class="h4"> </h4> <div class="mt-2"><div class="flex space-x-2"><input class="input flex-grow" type="text" placeholder="Add member name..."/> <button class="btn preset-filled-primary"><!></button></div></div></div> <ul class="list space-y-2"></ul></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary">Save Group</button></footer>',1),pa=(t,e,n)=>e(s(n)),ma=(t,e,n)=>e(s(n).id),ga=M('<li class="flex items-center justify-between"><div><p class="font-bold"> </p> <p class="text-sm opacity-70"> </p></div> <div class="flex space-x-2"><button class="btn btn-sm">Edit</button> <button class="btn-icon btn-icon-sm preset-filled-warning"><!></button></div></li>'),ha=M('<p class="p-4 text-center opacity-70">No groups created yet. Click "+ New Group" to start.</p>'),ba=M('<ul class="list"></ul> <!>',1),_a=M('<header class="flex items-center justify-between"><h3 class="h3">Manage Groups</h3> <button class="btn preset-filled">+ New Group</button></header> <div class="flex-grow overflow-y-auto"><!></div> <footer class="flex justify-end"><button class="btn preset-tonal">Close</button></footer>',1),xa=M('<div class="card flex max-h-[80vh] flex-col space-y-4 p-4"><!></div>');function Jn(t,e){Se(e,!0);let n=ee(null),r=ee("");function o(g){I(n,JSON.parse(JSON.stringify(g)),!0)}function a(){I(n,null),I(r,"")}function i(){if(s(r).trim()===""||!s(n))return;const g={id:crypto.randomUUID(),name:s(r).trim()};s(n).members.push(g),I(r,"")}function c(g){s(n)&&(s(n).members=s(n).members.filter(O=>O.id!==g))}function u(){if(!s(n)||s(n).name.trim()==="")return;const g=re.current.findIndex(O=>O.id===s(n).id);g>-1?re.current[g]=s(n):re.current.push(s(n)),re.current=[...re.current],a()}function f(g){confirm("Are you sure you want to delete this group? This cannot be undone.")&&(re.current=re.current.filter(O=>O.id!==g))}var v=xa(),h=d(v);{var _=g=>{var O=va(),y=ne(O),E=d(y),D=d(E,!0);l(E);var L=m(E,2),b=m(d(L),2);De(b),l(L);var P=m(L,2),S=d(P),k=d(S);l(S);var R=m(S,2),N=d(R),W=d(N);De(W),W.__keydown=[la,i];var B=m(W,2);B.__click=i;var A=d(B);{var $=x=>{var C=da();w(x,C)},T=x=>{var C=or("Add");w(x,C)};X(A,x=>{s(r).trim()!==""&&s(n).members.some(C=>C.name.trim().toLowerCase()===s(r).trim().toLowerCase())?x($):x(T,!1)})}l(B),l(N),l(R),l(P);var F=m(P,2);ie(F,21,()=>s(n).members,x=>x.id,(x,C)=>{var j=fa(),G=d(j),oe=d(G,!0);l(G);var K=m(G,2);K.__click=[ua,c,C];var ve=d(K);an(ve,{size:16}),l(K),l(j),q(()=>H(oe,s(C).name)),w(x,j)}),l(F),l(y),lt(y,x=>{var C;return(C=mt)==null?void 0:C(x)});var z=m(y,2),U=d(z);U.__click=a;var V=m(U,2);V.__click=u,l(z),q(x=>{H(D,s(n).id?"Edit Group":"Create Group"),H(k,`Members (${s(n).members.length??""})`),B.disabled=x},[()=>s(r).trim()===""||s(n).members.some(x=>x.name.trim().toLowerCase()===s(r).trim().toLowerCase())]),et(b,()=>s(n).name,x=>s(n).name=x),et(W,()=>s(r),x=>I(r,x)),w(g,O)},p=g=>{var O=_a(),y=ne(O),E=m(d(y),2);E.__click=[ca,n],l(y);var D=m(y,2),L=d(D);{var b=k=>{var R=ba(),N=ne(R);ie(N,21,()=>re.current,A=>A.id,(A,$)=>{var T=ga(),F=d(T),z=d(F),U=d(z,!0);l(z);var V=m(z,2),x=d(V);l(V),l(F);var C=m(F,2),j=d(C);j.__click=[pa,o,$];var G=m(j,2);G.__click=[ma,f,$];var oe=d(G);an(oe,{size:16}),l(G),l(C),l(T),q(()=>{H(U,s($).name),H(x,`${s($).members.length??""} members`)}),w(A,T)}),l(N);var W=m(N,2);{var B=A=>{var $=ha();w(A,$)};X(W,A=>{re.current.length===0&&A(B)})}w(k,R)};X(L,k=>{re.current&&k(b)})}l(D),lt(D,k=>{var R;return(R=mt)==null?void 0:R(k)});var P=m(D,2),S=d(P);S.__click=function(...k){var R;(R=e.close)==null||R.apply(this,k)},l(P),w(g,O)};X(h,g=>{s(n)?g(_):g(p,!1)})}l(v),w(t,v),Te()}Ye(["keydown","click"]);var ya=M("<option> </option>"),wa=M('<select class="select"><option disabled>-- Choose a group --</option><!></select>'),Oa=M('<div class="card bg-warning-200 p-4 text-center"><p>You must create a group first before you can create a ledger.</p></div>'),Ca=M('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3">Create New Ledger</h3></header> <div class="flex-grow space-y-4 overflow-y-auto"><label class="label"><span>Ledger Name</span> <input class="input" type="text" placeholder="e.g., Goa Trip 2025"/></label> <label class="label"><span>Select a Group</span> <!></label></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary">Create</button></footer></div>');function Kn(t,e){Se(e,!0);let n=ee(""),r=ee(null);Et(()=>{re.current&&re.current.length>0&&s(r)===null&&I(r,re.current[0].id,!0)});function o(){if(!s(n).trim()||!s(r)){alert("Please provide a ledger name and select a group.");return}const y={id:crypto.randomUUID(),name:s(n).trim(),groupId:s(r),transactions:[]};Y.current.push(y),Y.current=[...Y.current],ct.current=y.id,e.close()}var a=Ca(),i=m(d(a),2),c=d(i),u=m(d(c),2);De(u),l(c);var f=m(c,2),v=m(d(f),2);{var h=y=>{var E=wa(),D=d(E);D.value=(D.__value=null)??"";var L=m(D);ie(L,17,()=>re.current,b=>b.id,(b,P)=>{var S=ya(),k=d(S,!0);l(S);var R={};q(()=>{H(k,s(P).name),R!==(R=s(P).id)&&(S.value=(S.__value=s(P).id)??"")}),w(b,S)}),l(E),sn(E,()=>s(r),b=>I(r,b)),w(y,E)},_=y=>{var E=Oa();w(y,E)};X(v,y=>{re.current&&re.current.length>0?y(h):y(_,!1)})}l(f),l(i);var p=m(i,2),g=d(p);g.__click=function(...y){var E;(E=e.close)==null||E.apply(this,y)};var O=m(g,2);O.__click=o,l(p),l(a),q(y=>O.disabled=y,[()=>!s(n).trim()||!s(r)]),et(u,()=>s(n),y=>I(n,y)),w(t,a),Te()}Ye(["click"]);function Aa(t,e,n,r){if(!s(e))return;const o=s(n)===s(e).members.length;for(const a of s(e).members)r[a.id]=!o}var Pa=M('<label class="label"><span> </span> <input class="input" type="number" placeholder="0.00"/></label>'),ka=M('<div class="alert variant-soft-warning"><!> <span>The sum of payments does not match the optional total amount.</span></div>'),Ea=M('<label class="card flex items-center space-x-2 p-2"><input type="checkbox" class="checkbox"/> <span> </span></label>'),Sa=M('<div class="flex-grow space-y-4 overflow-y-auto"><div class="space-y-4"><label class="label"><span>Description</span> <input class="input" type="text" placeholder="e.g., Lunch at the cafe"/></label> <label class="label"><span>Total Amount (Optional)</span> <input class="input" type="number" placeholder="For verification (e.g., 150)"/></label></div> <div class="space-y-2"><h4 class="h4">Paid By</h4> <div class="grid grid-cols-2 gap-4"></div> <div class="pr-2 text-right font-bold">Total Paid: <span> </span></div> <!></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="h4"> </h4> <button class="btn btn-sm"> </button></div> <div class="grid grid-cols-2 gap-2"></div></div></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary"> </button></footer>',1),Ta=M('<div class="alert variant-soft-error"><!> <span>Could not find the associated group for this ledger.</span></div>'),Ba=M('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3"> </h3></header> <!></div>');function Ma(t,e){Se(e,!0);let n=se(e,"transactionToEdit",3,null);const r=ce(()=>re.current.find(b=>b.id===e.ledger.groupId));let o=ee(""),a=ee(void 0),i=Qe({}),c=Qe({});Et(()=>{var P;(P=n())==null||P.id;const b=s(r);if(b)if(n()){I(o,n().description,!0),I(a,n().totalAmount,!0);for(const S of b.members){const k=n().payers.find(R=>R.id===S.id);i[S.id]=k?k.amount:null,c[S.id]=n().beneficiaries.some(R=>R.id===S.id)||!1}}else{I(o,""),I(a,void 0);for(const S of b.members)i[S.id]=null,c[S.id]=!0}});const u=ce(()=>Object.values(i).reduce((b,P)=>b+(P||0),0)),f=ce(()=>s(a)!==void 0&&s(a)>0&&Math.abs(s(a)-s(u))>.001),v=ce(()=>Object.values(c).filter(b=>b).length),h=ce(()=>s(o).trim()!==""&&s(u)>0&&s(v)>0&&!s(f));function _(){if(!s(h)||!s(r))return;const b=[];for(const k of s(r).members){const R=i[k.id];R&&R>0&&b.push({...k,amount:R})}const P=[];for(const k of s(r).members)c[k.id]&&P.push(k);const S=Y.current.findIndex(k=>k.id===e.ledger.id);if(S!==-1){if(n()){const k=Y.current[S].transactions.findIndex(R=>R.id===n().id);k>-1&&(Y.current[S].transactions[k]={...n(),description:s(o).trim(),totalAmount:s(a),payers:b,beneficiaries:P})}else{const k={id:crypto.randomUUID(),description:s(o).trim(),totalAmount:s(a),payers:b,beneficiaries:P};Y.current[S].transactions.push(k)}Y.current=[...Y.current],e.close()}}var p=Ba(),g=d(p),O=d(g),y=d(O,!0);l(O),l(g);var E=m(g,2);{var D=b=>{var P=Sa(),S=ne(P),k=d(S),R=d(k),N=m(d(R),2);De(N),l(R);var W=m(R,2),B=m(d(W),2);De(B),l(W),l(k);var A=m(k,2),$=m(d(A),2);ie($,21,()=>s(r).members,Z=>Z.id,(Z,te)=>{var ge=Pa(),pe=d(ge),qe=d(pe,!0);l(pe);var $e=m(pe,2);De($e),l(ge),q(()=>H(qe,s(te).name)),et($e,()=>i[s(te).id],rt=>i[s(te).id]=rt),w(Z,ge)}),l($);var T=m($,2),F=m(d(T));let z;var U=d(F,!0);l(F),l(T);var V=m(T,2);{var x=Z=>{var te=ka(),ge=d(te);Dn(ge,{}),At(2),l(te),w(Z,te)};X(V,Z=>{s(f)&&Z(x)})}l(A);var C=m(A,2),j=d(C),G=d(j),oe=d(G);l(G);var K=m(G,2);K.__click=[Aa,r,v,c];var ve=d(K);l(K),l(j);var le=m(j,2);ie(le,21,()=>s(r).members,Z=>Z.id,(Z,te)=>{var ge=Ea(),pe=d(ge);De(pe);var qe=m(pe,2),$e=d(qe,!0);l(qe),l(ge),q(()=>H($e,s(te).name)),In(pe,()=>c[s(te).id],rt=>c[s(te).id]=rt),w(Z,ge)}),l(le),l(C),l(S);var me=m(S,2),Be=d(me);Be.__click=function(...Z){var te;(te=e.close)==null||te.apply(this,Z)};var Oe=m(Be,2);Oe.__click=_;var Ne=d(Oe);l(Oe),l(me),q((Z,te)=>{z=Lt(F,1,"",null,z,Z),H(U,te),H(oe,`Split Between (${s(v)??""})`),H(ve,`${s(v)===s(r).members.length?"Deselect":"Select"} All`),Oe.disabled=!s(h),H(Ne,`${n()?"Update":"Save"} Expense`)},[()=>({"text-error-500":s(f)}),()=>s(u).toFixed(2)]),et(N,()=>s(o),Z=>I(o,Z)),et(B,()=>s(a),Z=>I(a,Z)),w(b,P)},L=b=>{var P=Ta(),S=d(P);Dn(S,{}),At(2),l(P),w(b,P)};X(E,b=>{s(r)?b(D):b(L,!1)})}l(p),q(()=>H(y,n()?"Edit Expense":"Add New Expense")),w(t,p),Te()}Ye(["click"]);function Da(t,e,n){e("edit",n.transaction)}function La(t,e,n){e("delete",n.transaction.id)}var Ra=M('<span class="w-full"><span class="float-left font-medium"> </span>: <span class="text-primary-500 float-right font-mono"> </span></span>'),Ia=M('<span class="opacity-70">None</span>'),Fa=M('<span class="opacity-70">None</span>'),Na=M('<span class="font-medium">everyone</span>'),$a=M('<span class="font-medium"> </span> <p class="mt-2 w-full text-center opacity-50">Not For</p> <span class="opacity-50"> </span>',1),za=M('<div class="card bg-surface-900 space-y-2 p-4"><div class="flex items-start justify-between"><h3 class="h6 flex-grow"> </h3> <span class="bg-surface-800 pl-1 pr-1 text-lg font-bold"> </span></div> <div class="bg-surface-800 flex w-full p-2"><div class="border-surface-300 flex w-1/2 flex-col items-start space-y-1 border-r pr-4"><p class="w-full text-center">Paid By:</p> <!></div> <div class="flex w-1/2 flex-col items-start space-y-1 pl-4"><p class="w-full text-center">For</p> <!></div></div> <footer class="flex justify-between space-x-2"><button class="btn preset-filled-warning mb-0 pb-0"><!> Delete</button> <button class="btn mb-0 pb-0"><!> Edit</button></footer></div>');function Wa(t,e){Se(e,!0);const n=Zn(),r=ce(()=>e.transaction.payers.reduce((N,W)=>N+W.amount,0).toFixed(2)),o=ce(()=>()=>{if(!e.groupMembers||e.groupMembers.length===0||e.transaction.beneficiaries.length!==e.groupMembers.length)return!1;const N=new Set(e.transaction.beneficiaries.map(W=>W.name));return e.groupMembers.every(W=>N.has(W.name))});var a=za(),i=d(a),c=d(i),u=d(c,!0);l(c);var f=m(c,2),v=d(f);l(f),l(i);var h=m(i,2),_=d(h),p=m(d(_),2);{var g=N=>{var W=fe(),B=ne(W);ie(B,17,()=>e.transaction.payers,A=>A.id,(A,$)=>{var T=Ra(),F=d(T),z=d(F,!0);l(F);var U=m(F,2),V=d(U);l(U),l(T),q(x=>{H(z,s($).name),H(V,`$${x??""}`)},[()=>s($).amount.toFixed(2)]),w(A,T)}),w(N,W)},O=N=>{var W=Ia();w(N,W)};X(p,N=>{e.transaction.payers.length>0?N(g):N(O,!1)})}l(_);var y=m(_,2),E=m(d(y),2);{var D=N=>{var W=Fa();w(N,W)},L=N=>{var W=fe(),B=ne(W);{var A=T=>{var F=Na();w(T,F)},$=T=>{var F=$a(),z=ne(F),U=d(z,!0);l(z);var V=m(z,4),x=d(V,!0);l(V),q((C,j)=>{H(U,C),H(x,j)},[()=>e.transaction.beneficiaries.map(C=>C.name).join(", "),()=>(()=>{const C=new Set(e.transaction.beneficiaries.map(G=>G.name)),j=e.groupMembers.filter(G=>!C.has(G.name)).map(G=>G.name);return j.length?j.join(", "):"None"})()]),w(T,F)};X(B,T=>{s(o)()?T(A):T($,!1)},!0)}w(N,W)};X(E,N=>{e.transaction.beneficiaries.length===0?N(D):N(L,!1)})}l(y),l(h);var b=m(h,2),P=d(b);P.__click=[La,n,e];var S=d(P);an(S,{size:16,class:"mr-2"}),At(),l(P);var k=m(P,2);k.__click=[Da,n,e];var R=d(k);ia(R,{size:16,class:"mr-2"}),At(),l(k),l(b),l(a),q(()=>{H(u,e.transaction.description),H(v,`$${s(r)??""}`)}),w(t,a),Te()}Ye(["click"]);function ja(t,e){const n=new Map;for(const a of e.members)n.set(a.id,{person:a,totalPaid:0,totalShare:0,netBalance:0});for(const a of t.transactions){const i=a.payers.reduce((f,v)=>f+v.amount,0),c=a.beneficiaries.length;if(c===0)continue;const u=i/c;for(const f of a.payers){const v=n.get(f.id);v&&(v.totalPaid+=f.amount)}for(const f of a.beneficiaries){const v=n.get(f.id);v&&(v.totalShare+=u)}}const r=[];for(const a of n.values())a.netBalance=a.totalPaid-a.totalShare,r.push(a);const o=Ha(JSON.parse(JSON.stringify(r)));return{memberBalances:r,settlements:o}}function Ha(t){const e=[];let r=t.filter(a=>a.netBalance>.01),o=t.filter(a=>a.netBalance<-.01);for(r.sort((a,i)=>i.netBalance-a.netBalance),o.sort((a,i)=>a.netBalance-i.netBalance);r.length>0&&o.length>0;){const a=r[0],i=o[0],c=Math.min(a.netBalance,-i.netBalance);e.push({from:i.person.name,to:a.person.name,amount:c}),a.netBalance-=c,i.netBalance+=c,a.netBalance<.01&&r.shift(),i.netBalance>-.01&&o.shift()}return e}var Ga=M('<li class="flex items-center justify-between p-2"><div class="flex items-center space-x-2"><span class="font-bold"> </span> <!> <span class="font-bold"> </span></div> <span class="text-primary-500 font-mono text-lg"> </span></li>'),Va=M('<ul class="list"></ul>'),Ua=M('<p class="p-4 text-center opacity-70">Everyone is settled up!</p>'),Ya=M('<tr><td> </td><td class="text-right text-green-500"> </td><td class="text-right text-red-500"> </td><td> </td></tr>'),qa=M('<div class="flex-grow space-y-6 overflow-y-auto"><div><h4 class="h4 mb-2">Who Pays Whom</h4> <!></div> <div><h4 class="h4 mb-2">Detailed Breakdown</h4> <table class="table-compact table w-full"><thead><tr><th class="text-left">Name</th><th class="!text-right">Paid</th><th class="!text-right">Share</th><th class="!text-right">Balance</th></tr></thead><tbody></tbody></table></div></div>'),Xa=M('<p class="p-4 text-center opacity-70">Could not calculate the settlement.</p>'),Ja=M('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3"> </h3></header> <!> <footer class="flex justify-end"><button class="btn preset-tonal">Close</button></footer></div>');function Qn(t,e){Se(e,!0);const n=ce(()=>re.current.find(p=>p.id===e.ledger.groupId)),r=ce(()=>s(n)&&e.ledger?ja(e.ledger,s(n)):null);var o=Ja(),a=d(o),i=d(a),c=d(i);l(i),l(a);var u=m(a,2);{var f=p=>{var g=qa(),O=d(g),y=m(d(O),2);{var E=S=>{var k=Va();ie(k,21,()=>s(r).settlements,hn,(R,N)=>{var W=Ga(),B=d(W),A=d(B),$=d(A,!0);l(A);var T=m(A,2);sa(T,{size:16,class:"text-primary-500"});var F=m(T,2),z=d(F,!0);l(F),l(B);var U=m(B,2),V=d(U);l(U),l(W),q(x=>{H($,s(N).from),H(z,s(N).to),H(V,`$${x??""}`)},[()=>s(N).amount.toFixed(2)]),w(R,W)}),l(k),w(S,k)},D=S=>{var k=Ua();w(S,k)};X(y,S=>{s(r).settlements.length>0?S(E):S(D,!1)})}l(O);var L=m(O,2),b=m(d(L),2),P=m(d(b));ie(P,21,()=>s(r).memberBalances,hn,(S,k)=>{var R=Ya(),N=d(R),W=d(N,!0);l(N);var B=m(N),A=d(B,!0);l(B);var $=m(B),T=d($,!0);l($);var F=m($);let z;var U=d(F,!0);l(F),l(R),q((V,x,C,j)=>{H(W,s(k).person.name),H(A,V),H(T,x),z=Lt(F,1,"text-right font-bold",null,z,C),H(U,j)},[()=>s(k).totalPaid.toFixed(2),()=>s(k).totalShare.toFixed(2),()=>({"text-green-400":s(k).netBalance>0,"text-red-400":s(k).netBalance<0}),()=>s(k).netBalance.toFixed(2)]),w(S,R)}),l(P),l(b),l(L),l(g),w(p,g)},v=p=>{var g=Xa();w(p,g)};X(u,p=>{s(r)?p(f):p(v,!1)})}var h=m(u,2),_=d(h);_.__click=function(...p){var g;(g=e.close)==null||g.apply(this,p)},l(h),l(o),q(()=>H(c,`Settlement for "${e.ledger.name??""}"`)),w(t,o),Te()}Ye(["click"]);function Ka(t,e,n){I(e,null),I(n,!0)}var Qa=(t,e)=>I(e,!0),Za=(t,e)=>I(e,!0),es=M("<option> </option>"),ts=M('<div class="flex items-center space-x-2"><span class="font-bold">Active Ledger:</span> <select class="select"><option disabled selected>-- Select a Ledger --</option><!></select></div>'),ns=(t,e)=>I(e,!0),rs=M('<div class="card bg-surface-900 space-y-4 p-8 text-center"><h3 class="h3">Welcome!</h3> <p>Create your first ledger to start tracking expenses for a trip or event.</p> <button class="btn preset-filled-primary">Create a Ledger</button></div>'),os=(t,e)=>I(e,!0),as=M('<div class="space-y-4"></div>'),ss=M('<div class="p-8 text-center opacity-70"><p> </p> <p>Click "+ Add Expense" to get started!</p></div>'),is=M('<div class="space-y-4"><div class="flex items-center justify-between"><h2 class="h2">Transactions</h2> <div class="flex space-x-2"><button class="btn preset-filled">Settle Up</button></div></div> <!></div>'),cs=M('<div class="space-y-6 p-4"><header class="flex items-center justify-between"><h1 class="h1">Events</h1> <div><button class="btn preset-tonal mr-2">Manage Groups</button> <button class="btn preset-filled-primary-100-900">+ New Ledger</button></div></header> <!> <!> <button class="btn preset-filled w-full">+ Add Expense</button> <!> <!> <!> <!></div>');function ls(t,e){Se(e,!0);let n=ee(!1),r=ee(!1),o=ee(!1),a=ee(!1),i=ee(null);const c=ce(()=>Y.current.find(B=>B.id===ct.current)),u=ce(()=>re.current.find(B=>{var A;return B.id===((A=s(c))==null?void 0:A.groupId)})),f=ce(()=>{var B;return((B=s(u))==null?void 0:B.members)??[]});function v(B){I(i,B.detail,!0),I(o,!0)}function h(B){const A=B.detail;if(!s(c)||!confirm("Are you sure you want to delete this transaction? This cannot be undone."))return;const $=Y.current.findIndex(T=>T.id===s(c).id);$>-1&&(Y.current[$].transactions=Y.current[$].transactions.filter(T=>T.id!==A),Y.current=[...Y.current])}var _=cs(),p=d(_),g=m(d(p),2),O=d(g);O.__click=[Qa,n];var y=m(O,2);y.__click=[Za,r],l(g),l(p);var E=m(p,2);{var D=B=>{var A=ts(),$=m(d(A),2),T=d($);T.value=(T.__value=null)??"";var F=m(T);ie(F,17,()=>Y.current,z=>z.id,(z,U)=>{var V=es(),x=d(V,!0);l(V);var C={};q(()=>{H(x,s(U).name),C!==(C=s(U).id)&&(V.value=(V.__value=s(U).id)??"")}),w(z,V)}),l($),l(A),sn($,()=>ct.current,z=>ct.current=z),w(B,A)},L=B=>{var A=rs(),$=m(d(A),4);$.__click=[ns,r],l(A),w(B,A)};X(E,B=>{Y.current&&Y.current.length>0?B(D):B(L,!1)})}var b=m(E,2);{var P=B=>{var A=is(),$=d(A),T=m(d($),2),F=d(T);F.__click=[os,a],l(T),l($);var z=m($,2);{var U=x=>{var C=as();ie(C,21,()=>s(c).transactions,j=>j.id,(j,G)=>{Wa(j,{get transaction(){return s(G)},get groupMembers(){return s(f)},$$events:{delete:h,edit:v}})}),l(C),lt(C,j=>{var G;return(G=mt)==null?void 0:G(j)}),w(x,C)},V=x=>{var C=ss(),j=d(C),G=d(j);l(j),At(2),l(C),q(()=>H(G,`No expenses logged for "${s(c).name??""}" yet.`)),w(x,C)};X(z,x=>{s(c).transactions.length>0?x(U):x(V,!1)})}l(A),w(B,A)};X(b,B=>{s(c)&&B(P)})}var S=m(b,2);S.__click=[Ka,i,o];var k=m(S,2);Ze(k,{get open(){return s(n)},onOpenChange:A=>I(n,A.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:A=>{Jn(A,{close:()=>I(n,!1)})},$$slots:{content:!0}});var R=m(k,2);Ze(R,{get open(){return s(r)},onOpenChange:A=>I(r,A.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:A=>{Kn(A,{close:()=>I(r,!1)})},$$slots:{content:!0}});var N=m(R,2);Ze(N,{get open(){return s(o)},onOpenChange:A=>I(o,A.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:A=>{var $=fe(),T=ne($);{var F=z=>{Ma(z,{get ledger(){return s(c)},get transactionToEdit(){return s(i)},close:()=>I(o,!1)})};X(T,z=>{s(c)&&z(F)})}w(A,$)},$$slots:{content:!0}});var W=m(N,2);Ze(W,{get open(){return s(a)},onOpenChange:A=>I(a,A.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:A=>{var $=fe(),T=ne($);{var F=z=>{Qn(z,{get ledger(){return s(c)},close:()=>I(a,!1)})};X(T,z=>{s(c)&&z(F)})}w(A,$)},$$slots:{content:!0}}),l(_),lt(_,B=>{var A;return(A=mt)==null?void 0:A(B)}),w(t,_),Te()}Ye(["click"]);function ds(t,e,n){const r=[];for(const o of e.group.members){const a=s(n)[o.id];a&&a>0&&r.push({...o,amount:a})}e.onSave({payers:r})}var us=M('<label class="label"><span> </span> <input class="input" type="number" placeholder="0.00"/></label>'),fs=M('<div class="card bg-surface-900 space-y-4 p-4 shadow-xl"><h3 class="h3">Edit Payers</h3> <div class="max-h-64 space-y-2 overflow-y-auto"></div> <footer class="flex justify-end"><button class="btn preset-filled-primary">Done</button></footer></div>');function Ln(t,e){Se(e,!0);let n=ee(Qe({}));Et(()=>{const c={};for(const u of e.group.members){const f=e.payers.find(v=>v.id===u.id);c[u.id]=f?f.amount:null}I(n,c,!0)});var r=fs(),o=m(d(r),2);ie(o,21,()=>e.group.members,c=>c.id,(c,u)=>{var f=us(),v=d(f),h=d(v,!0);l(v);var _=m(v,2);De(_),l(f),q(()=>H(h,s(u).name)),et(_,()=>s(n)[s(u).id],p=>s(n)[s(u).id]=p),w(c,f)}),l(o);var a=m(o,2),i=d(a);i.__click=[ds,e,n],l(a),l(r),w(t,r),Te()}Ye(["click"]);function vs(t,e,n){const r=[];for(const o of e.group.members)s(n)[o.id]&&r.push(o);e.onSave({beneficiaries:r})}var ps=M('<label class="card flex items-center space-x-2 p-2"><input type="checkbox" class="checkbox"/> <span> </span></label>'),ms=M('<div class="card bg-surface-900 space-y-4 p-4 shadow-xl"><h3 class="h3">Edit Beneficiaries</h3> <div class="max-h-64 space-y-2 overflow-y-auto"></div> <footer class="flex justify-end"><button class="btn preset-filled-primary">Done</button></footer></div>');function Rn(t,e){Se(e,!0);let n=ee(Qe({}));Et(()=>{const c={};for(const u of e.group.members)c[u.id]=e.beneficiaries.some(f=>f.id===u.id);I(n,c,!0)});var r=ms(),o=m(d(r),2);ie(o,21,()=>e.group.members,c=>c.id,(c,u)=>{var f=ps(),v=d(f);De(v);var h=m(v,2),_=d(h,!0);l(h),l(f),q(()=>H(_,s(u).name)),In(v,()=>s(n)[s(u).id],p=>s(n)[s(u).id]=p),w(c,f)}),l(o);var a=m(o,2),i=d(a);i.__click=[vs,e,n],l(a),l(r),w(t,r),Te()}Ye(["click"]);var gs=(t,e)=>I(e,!0),hs=(t,e)=>I(e,!0),bs=M("<option> </option>"),_s=M('<div class="flex items-center space-x-2"><span class="font-bold">Active Ledger:</span> <select class="select"><option disabled selected>-- Select a Ledger --</option><!></select></div>'),xs=(t,e)=>I(e,!0),ys=M('<div class="card bg-surface-900 space-y-4 p-8 text-center"><h3 class="h3">Welcome!</h3> <p>Create your first ledger to start tracking expenses for a trip or event.</p> <button class="btn preset-filled">Create a Ledger</button></div>'),ws=(t,e)=>I(e,!0),Os=M('<span class="w-full"><span class="float-left font-medium"> </span>: <span class=" text-primary-500 float-right font-mono"> </span></span>'),Cs=M('<span class="opacity-70">None</span>'),As=M('<button class="btn !h-auto !min-h-10 w-full"><div class="flex w-full flex-col items-start"><!></div></button>'),Ps=M('<span class="opacity-70">None</span>'),ks=M('<span class="font-medium">Everyone</span>'),Es=M('<span class="font-medium"> </span> <p class="mt-2 w-full text-left text-sm opacity-50"><span class="italic">Not included:</span> </p>',1),Ss=M('<div class="flex flex-col items-start space-y-1 pl-4"><!></div>'),Ts=(t,e,n)=>e(s(n)),Bs=M('<tr><td> </td><td class="borderra resize-none overflow-y-hidden align-middle hover:border" contenteditable="true"></td><td><!></td><td><!></td><td class="text-right font-bold"> </td><td class="text-center"><button class="btn-icon btn-icon-sm"></button></td></tr>'),Ms=(t,e)=>t.key==="Enter"&&e(),Ds=M('<button class="btn btn-sm w-full text-left"> </button>'),Ls=M('<button class="btn btn-sm text-left"> </button>'),Rs=M('<div class="flex items-center justify-between"><h2 class="h3"> </h2> <button class="btn preset-filled">Settle Up</button></div> <div class="table-container"><table class="table-interactive table"><thead><tr><th class="w-1">#</th><th class="w-4/12">Description</th><th class="!text-left">Paid By</th><th class="!text-center">Beneficiaries</th><th class="!text-right">Total</th><th class="!text-center"></th></tr></thead><tbody></tbody><tfoot><tr><td></td><td><input type="text" class="input" placeholder="Add new expense..."/></td><td><!></td><td><!></td><td class="text-right" colspan="2"><button class="btn btn-sm preset-filled-primary w-full">Add</button></td></tr></tfoot></table></div>',1),Is=M('<span class="w-full"><span class="font-medium"> </span>: <span class="text-primary-500 float-right font-mono"> </span></span>'),Fs=M('<span class="opacity-70">None</span>'),Ns=M("<span>Everyone</span>"),$s=M("<span> </span>"),zs=M('<span class="opacity-70">None</span>'),Ws=(t,e)=>I(e,!1),js=M('<div class="space-y-4 p-4"><h3 class="h3">Delete Transaction?</h3> <div class="card variant-soft p-4"><p class="text-lg font-bold"> </p> <div class="flex w-full"><div class="border-surface-300 mb-4 mt-4 flex w-1/2 flex-col items-start space-y-1 border-r pr-4"><p class="w-full text-center">Payers</p> <!></div> <div class="flex w-1/2 flex-col items-start space-y-1 pl-4"><p class="w-full text-center">Beneficiaries</p> <!></div></div> <p> </p></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-warning">Confirm Delete</button></footer></div>'),Hs=M('<div class="space-y-6 p-4"><header class="flex items-center justify-between"><h1 class="h1">Events</h1> <div><button class="btn preset-tonal mr-2">Manage Groups</button> <button class="btn preset-filled-primary-100-900">+ New Ledger</button></div></header> <!> <!> <!> <!> <!> <!></div>');function Gs(t,e){Se(e,!0);let n=ee(!1),r=ee(!1),o=ee(!1);const a=ce(()=>{var x;return(x=Y.current)==null?void 0:x.find(C=>C.id===ct.current)}),i=ce(()=>s(a)?re.current.find(x=>x.id===s(a).groupId):null);let c=ee(""),u=ee(Qe([])),f=ee(Qe([]));Et(()=>{s(a)&&v()});function v(){var x;I(c,""),I(u,[],!0),I(f,((x=s(i))==null?void 0:x.members)??[],!0)}function h(){const x=s(u).reduce((G,oe)=>G+oe.amount,0);if(!s(a)||!s(c).trim()||x<=0){alert("Please provide a description and at least one payer.");return}const C={id:crypto.randomUUID(),description:s(c).trim(),payers:s(u),beneficiaries:s(f)},j=Y.current.findIndex(G=>G.id===s(a).id);j>-1&&(Y.current[j].transactions.push(C),Y.current=[...Y.current]),v()}function _(){Y.current=[...Y.current]}function p(){if(!s(a)||!s(b))return;const x=Y.current.findIndex(C=>C.id===s(a).id);x>-1&&(Y.current[x].transactions=Y.current[x].transactions.filter(C=>C.id!==s(b).id),Y.current=[...Y.current]),I(L,!1),I(b,null)}function g(x){I(b,x,!0),I(L,!0)}let O=Qe({}),y=Qe({}),E=ee(!1),D=ee(!1),L=ee(!1),b=ee(null);var P=Hs(),S=d(P),k=m(d(S),2),R=d(k);R.__click=[gs,n];var N=m(R,2);N.__click=[hs,r],l(k),l(S);var W=m(S,2);{var B=x=>{var C=_s(),j=m(d(C),2),G=d(j);G.value=(G.__value=null)??"";var oe=m(G);ie(oe,17,()=>Y.current,K=>K.id,(K,ve)=>{var le=bs(),me=d(le,!0);l(le);var Be={};q(()=>{H(me,s(ve).name),Be!==(Be=s(ve).id)&&(le.value=(le.__value=s(ve).id)??"")}),w(K,le)}),l(j),l(C),sn(j,()=>ct.current,K=>ct.current=K),w(x,C)},A=x=>{var C=ys(),j=m(d(C),4);j.__click=[xs,r],l(C),w(x,C)};X(W,x=>{Y.current&&Y.current.length>0?x(B):x(A,!1)})}var $=m(W,2);{var T=x=>{var C=Rs(),j=ne(C),G=d(j),oe=d(G);l(G);var K=m(G,2);K.__click=[ws,o],l(j);var ve=m(j,2),le=d(ve),me=m(d(le));ie(me,21,()=>s(a).transactions,xe=>xe.id,(xe,J,de)=>{var ae=Bs(),ze=d(ae),Q=d(ze,!0);l(ze);var ue=m(ze);ue.__change=_;var ot=m(ue),at=d(ot);Mt(at,{get open(){return O[s(J).id]},onOpenChange:Ce=>O[s(J).id]=Ce.open,positioning:{placement:"bottom"},contentBase:"w-72 card p-4 space-y-4",triggerBase:"w-full",zIndex:"99",trigger:Ce=>{var Ae=As(),Tt=d(Ae),Ut=d(Tt);{var Yt=Pe=>{var ut=fe(),qt=ne(ut);ie(qt,17,()=>s(J).payers,yt=>yt.id,(yt,je)=>{var Ke=Os(),it=d(Ke),Xt=d(it,!0);l(it);var wt=m(it,2),Jt=d(wt);l(wt),l(Ke),q(He=>{H(Xt,s(je).name),H(Jt,`$${He??""}`)},[()=>s(je).amount.toFixed(2)]),w(yt,Ke)}),w(Pe,ut)},Je=Pe=>{var ut=Cs();w(Pe,ut)};X(Ut,Pe=>{s(J).payers.length>0?Pe(Yt):Pe(Je,!1)})}l(Tt),l(Ae),w(Ce,Ae)},content:Ce=>{Ln(Ce,{get payers(){return s(J).payers},get group(){return s(i)},onSave:({payers:Ae})=>{s(J).payers=Ae,_(),O[s(J).id]=!1}})},$$slots:{trigger:!0,content:!0}}),l(ot);var Xe=m(ot),ye=d(Xe);Mt(ye,{get open(){return y[s(J).id]},onOpenChange:Ce=>y[s(J).id]=Ce.open,positioning:{placement:"bottom"},contentBase:"w-72 card p-4 space-y-4",trigger:Ce=>{var Ae=Ss(),Tt=d(Ae);{var Ut=Je=>{var Pe=Ps();w(Je,Pe)},Yt=Je=>{var Pe=fe(),ut=ne(Pe);{var qt=je=>{var Ke=ks();w(je,Ke)},yt=je=>{var Ke=Es(),it=ne(Ke),Xt=d(it,!0);l(it);var wt=m(it,2),Jt=m(d(wt));l(wt),q((He,Kt)=>{H(Xt,He),H(Jt,` ${Kt??""}`)},[()=>s(J).beneficiaries.map(He=>He.name).join(", "),()=>s(i).members.filter(He=>!s(J).beneficiaries.some(Kt=>Kt.id===He.id)).map(He=>He.name).join(", ")||"None"]),w(je,Ke)};X(ut,je=>{s(J).beneficiaries.length===s(i).members.length?je(qt):je(yt,!1)},!0)}w(Je,Pe)};X(Tt,Je=>{s(J).beneficiaries.length===0?Je(Ut):Je(Yt,!1)})}l(Ae),w(Ce,Ae)},content:Ce=>{Rn(Ce,{get beneficiaries(){return s(J).beneficiaries},get group(){return s(i)},onSave:({beneficiaries:Ae})=>{s(J).beneficiaries=Ae,_(),y[s(J).id]=!1}})},$$slots:{trigger:!0,content:!0}}),l(Xe);var we=m(Xe),_t=d(we);l(we);var We=m(we),xt=d(We);xt.__click=[Ts,g,J],l(We),l(ae),q((he,st)=>{H(Q,he),H(_t,`$${st??""}`)},[()=>s(a).transactions.indexOf(s(J))+1,()=>s(J).payers.reduce((he,st)=>he+st.amount,0).toFixed(2)]),Sr("innerText",ue,()=>s(J).description,he=>s(J).description=he),w(xe,ae)}),l(me),lt(me,xe=>{var J;return(J=mt)==null?void 0:J(xe)});var Be=m(me),Oe=d(Be),Ne=m(d(Oe)),Z=d(Ne);De(Z),Z.__keydown=[Ms,h],l(Ne);var te=m(Ne),ge=d(te);Mt(ge,{get open(){return s(D)},onOpenChange:de=>I(D,de.open,!0),positioning:{placement:"top"},contentBase:"w-72 card p-4 space-y-4",trigger:de=>{var ae=Ds(),ze=d(ae,!0);l(ae),q(Q=>H(ze,Q),[()=>s(u).map(Q=>Q.name).join(", ")||"+ Add Payers"]),w(de,ae)},content:de=>{Ln(de,{get payers(){return s(u)},get group(){return s(i)},onSave:({payers:ae})=>{I(u,ae,!0),I(D,!1)}})},$$slots:{trigger:!0,content:!0}}),l(te);var pe=m(te),qe=d(pe);Mt(qe,{get open(){return s(E)},onOpenChange:de=>I(E,de.open,!0),positioning:{placement:"top"},contentBase:"w-72 card p-4 space-y-4",trigger:de=>{var ae=Ls(),ze=d(ae,!0);l(ae),q(Q=>H(ze,Q),[()=>s(f).length===s(i).members.length?"Everyone":s(f).map(Q=>Q.name).join(", ")||"+ Add Beneficiaries"]),w(de,ae)},content:de=>{Rn(de,{get beneficiaries(){return s(f)},get group(){return s(i)},onSave:({beneficiaries:ae})=>{I(f,ae,!0),I(E,!1)}})},$$slots:{trigger:!0,content:!0}}),l(pe);var $e=m(pe),rt=d($e);rt.__click=h,l($e),l(Oe),l(Be),l(le),l(ve),q(()=>H(oe,`Transactions for "${s(a).name??""}"`)),et(Z,()=>s(c),xe=>I(c,xe)),w(x,C)};X($,x=>{s(a)&&s(i)&&x(T)})}var F=m($,2);Ze(F,{get open(){return s(n)},onOpenChange:C=>I(n,C.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:C=>{Jn(C,{close:()=>I(n,!1)})},$$slots:{content:!0}});var z=m(F,2);Ze(z,{get open(){return s(r)},onOpenChange:C=>I(r,C.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:C=>{Kn(C,{close:()=>I(r,!1)})},$$slots:{content:!0}});var U=m(z,2);Ze(U,{get open(){return s(o)},onOpenChange:C=>I(o,C.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:C=>{var j=fe(),G=ne(j);{var oe=K=>{Qn(K,{get ledger(){return s(a)},close:()=>I(o,!1)})};X(G,K=>{s(a)&&K(oe)})}w(C,j)},$$slots:{content:!0}});var V=m(U,2);Ze(V,{get open(){return s(L)},contentBase:"w-full max-w-lg bg-surface-900",content:C=>{var j=fe(),G=ne(j);{var oe=K=>{var ve=js(),le=m(d(ve),2),me=d(le),Be=d(me,!0);l(me);var Oe=m(me,2),Ne=d(Oe),Z=m(d(Ne),2);{var te=Q=>{var ue=fe(),ot=ne(ue);ie(ot,17,()=>s(b).payers,at=>at.id,(at,Xe)=>{var ye=Is(),we=d(ye),_t=d(we,!0);l(we);var We=m(we,2),xt=d(We);l(We),l(ye),q(he=>{H(_t,s(Xe).name),H(xt,`$${he??""}`)},[()=>s(Xe).amount.toFixed(2)]),w(at,ye)}),w(Q,ue)},ge=Q=>{var ue=Fs();w(Q,ue)};X(Z,Q=>{s(b).payers.length>0?Q(te):Q(ge,!1)})}l(Ne);var pe=m(Ne,2),qe=m(d(pe),2);{var $e=Q=>{var ue=Ns();w(Q,ue)},rt=Q=>{var ue=fe(),ot=ne(ue);{var at=ye=>{var we=fe(),_t=ne(we);ie(_t,17,()=>s(b).beneficiaries,We=>We.id,(We,xt)=>{var he=$s(),st=d(he,!0);l(he),q(()=>H(st,s(xt).name)),w(We,he)}),w(ye,we)},Xe=ye=>{var we=zs();w(ye,we)};X(ot,ye=>{s(b).beneficiaries.length>0?ye(at):ye(Xe,!1)},!0)}w(Q,ue)};X(qe,Q=>{s(b).beneficiaries.length===s(i).members.length?Q($e):Q(rt,!1)})}l(pe),l(Oe);var xe=m(Oe,2),J=d(xe);l(xe),l(le);var de=m(le,2),ae=d(de);ae.__click=[Ws,L];var ze=m(ae,2);ze.__click=p,l(de),l(ve),q(Q=>{H(Be,s(b).description),H(J,`Total amount: $${Q??""}`)},[()=>(s(b).totalAmount??(s(b).payers??[]).reduce((Q,ue)=>Q+ue.amount,0)).toFixed(2)]),w(K,ve)};X(G,K=>{s(b)&&K(oe)})}w(C,j)},$$slots:{content:!0}}),l(P),lt(P,x=>{var C;return(C=mt)==null?void 0:C(x)}),w(t,P),Te()}Ye(["click","change","keydown"]);var Vs=M('<div class="container mx-auto"><!></div>');function ei(t,e){Se(e,!0);let n=ee(!1);const r=768;er(()=>{{const u=window.matchMedia(`(min-width: ${r}px)`);I(n,u.matches,!0);const f=v=>{I(n,v.matches,!0)};return u.addEventListener("change",f),()=>{u.removeEventListener("change",f)}}});var o=Vs(),a=d(o);{var i=u=>{Gs(u,{})},c=u=>{ls(u,{})};X(a,u=>{s(n)?u(i):u(c,!1)})}l(o),w(t,o),Te()}export{ei as component};
