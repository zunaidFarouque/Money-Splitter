import"../chunks/Bzak7iHL.js";import{s as bn,c as rr,o as ar}from"../chunks/DH1mR1JQ.js";import{v as or,a_ as sr,p as Be,f as S,d,s as p,l as o,aw as fe,r as l,t as J,b as x,c as Le,H as ir,aA as ge,a as re,au as Xe,av as ne,e as W,ak as T,aB as cr,h as Pt,aj as et,ax as kt}from"../chunks/DIn1sXZP.js";import{p as ce,r as lr,i as K,l as $t,s as zt}from"../chunks/DDMtPQcN.js";import{r as Mt,n as dr,i as ur,a as fr,g as vr,b as pr,c as mr,d as gr,e as _n,t as hr,p as br,f as _r,h as xr,j as yr,k as wr,l as Or,m as Cr,o as kr,q as Ar,u as Er,s as lt,v as Pr,w as Sr,x as Tr,I as jt,y as Wt,z as ue,A as mt,B as tt,C as $n,D as xn,M as Ie}from"../chunks/s5aTUy1D.js";import{c as Ot,a as Rt,t as Br,b as Lr,S as yn,r as Fe,d as dn}from"../chunks/CUWQ0bJw.js";import{g as se,l as q,b as ct,c as zn}from"../chunks/DbuLwK15.js";import"../chunks/BIN2UmzS.js";function Dr(t,e,n,r=n){e.addEventListener("input",()=>{r(e[t])}),or(()=>{var a=n();if(e[t]!==a)if(a==null){var s=e[t];r(s)}else e[t]=a+""})}const Mr=["top","right","bottom","left"],nt=Math.min,xe=Math.max,It=Math.round,Lt=Math.floor,$e=t=>({x:t,y:t}),Rr={left:"right",right:"left",bottom:"top",top:"bottom"},Ir={start:"end",end:"start"};function nn(t,e,n){return xe(t,nt(e,n))}function Ye(t,e){return typeof t=="function"?t(e):t}function qe(t){return t.split("-")[0]}function ht(t){return t.split("-")[1]}function un(t){return t==="x"?"y":"x"}function fn(t){return t==="y"?"height":"width"}const Fr=new Set(["top","bottom"]);function Ne(t){return Fr.has(qe(t))?"y":"x"}function vn(t){return un(Ne(t))}function Nr(t,e,n){n===void 0&&(n=!1);const r=ht(t),a=vn(t),s=fn(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=Ft(i)),[i,Ft(i)]}function $r(t){const e=Ft(t);return[rn(t),e,rn(e)]}function rn(t){return t.replace(/start|end/g,e=>Ir[e])}const wn=["left","right"],On=["right","left"],zr=["top","bottom"],jr=["bottom","top"];function Wr(t,e,n){switch(t){case"top":case"bottom":return n?e?On:wn:e?wn:On;case"left":case"right":return e?zr:jr;default:return[]}}function Hr(t,e,n,r){const a=ht(t);let s=Wr(qe(t),n==="start",r);return a&&(s=s.map(i=>i+"-"+a),e&&(s=s.concat(s.map(rn)))),s}function Ft(t){return t.replace(/left|right|bottom|top/g,e=>Rr[e])}function Gr(t){return{top:0,right:0,bottom:0,left:0,...t}}function jn(t){return typeof t!="number"?Gr(t):{top:t,right:t,bottom:t,left:t}}function Nt(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function Cn(t,e,n){let{reference:r,floating:a}=t;const s=Ne(e),i=vn(e),c=fn(i),u=qe(e),v=s==="y",f=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,y=r[c]/2-a[c]/2;let m;switch(u){case"top":m={x:f,y:r.y-a.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ht(e)){case"start":m[i]-=y*(n&&v?-1:1);break;case"end":m[i]+=y*(n&&v?-1:1);break}return m}const Vr=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=n,c=s.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(e));let v=await i.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:h}=Cn(v,r,u),y=r,m={},g=0;for(let k=0;k<c.length;k++){const{name:w,fn:P}=c[k],{x:L,y:D,data:C,reset:_}=await P({x:f,y:h,initialPlacement:r,placement:y,strategy:a,middlewareData:m,rects:v,platform:i,elements:{reference:t,floating:e}});f=L??f,h=D??h,m={...m,[w]:{...m[w],...C}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(y=_.placement),_.rects&&(v=_.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:a}):_.rects),{x:f,y:h}=Cn(v,y,u)),k=-1)}return{x:f,y:h,placement:y,strategy:a,middlewareData:m}};async function At(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:s,rects:i,elements:c,strategy:u}=t,{boundary:v="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:y=!1,padding:m=0}=Ye(e,t),g=jn(m),w=c[y?h==="floating"?"reference":"floating":h],P=Nt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:v,rootBoundary:f,strategy:u})),L=h==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,D=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),C=await(s.isElement==null?void 0:s.isElement(D))?await(s.getScale==null?void 0:s.getScale(D))||{x:1,y:1}:{x:1,y:1},_=Nt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:L,offsetParent:D,strategy:u}):L);return{top:(P.top-_.top+g.top)/C.y,bottom:(_.bottom-P.bottom+g.bottom)/C.y,left:(P.left-_.left+g.left)/C.x,right:(_.right-P.right+g.right)/C.x}}const Ur=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:s,platform:i,elements:c,middlewareData:u}=e,{element:v,padding:f=0}=Ye(t,e)||{};if(v==null)return{};const h=jn(f),y={x:n,y:r},m=vn(a),g=fn(m),k=await i.getDimensions(v),w=m==="y",P=w?"top":"left",L=w?"bottom":"right",D=w?"clientHeight":"clientWidth",C=s.reference[g]+s.reference[m]-y[m]-s.floating[g],_=y[m]-s.reference[m],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(v));let A=E?E[D]:0;(!A||!await(i.isElement==null?void 0:i.isElement(E)))&&(A=c.floating[D]||s.floating[g]);const F=C/2-_/2,N=A/2-k[g]/2-1,$=nt(h[P],N),G=nt(h[L],N),j=$,Y=A-k[g]-G,O=A/2-k[g]/2+F,b=nn(j,O,Y),M=!u.arrow&&ht(a)!=null&&O!==b&&s.reference[g]/2-(O<j?$:G)-k[g]/2<0,z=M?O<j?O-j:O-Y:0;return{[m]:y[m]+z,data:{[m]:b,centerOffset:O-b-z,...M&&{alignmentOffset:z}},reset:M}}}),Yr=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:s,rects:i,initialPlacement:c,platform:u,elements:v}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:y,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:k=!0,...w}=Ye(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const P=qe(a),L=Ne(c),D=qe(c)===c,C=await(u.isRTL==null?void 0:u.isRTL(v.floating)),_=y||(D||!k?[Ft(c)]:$r(c)),E=g!=="none";!y&&E&&_.push(...Hr(c,k,g,C));const A=[c,..._],F=await At(e,w),N=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&N.push(F[P]),h){const O=Nr(a,i,C);N.push(F[O[0]],F[O[1]])}if($=[...$,{placement:a,overflows:N}],!N.every(O=>O<=0)){var G,j;const O=(((G=s.flip)==null?void 0:G.index)||0)+1,b=A[O];if(b&&(!(h==="alignment"?L!==Ne(b):!1)||$.every(H=>Ne(H.placement)===L?H.overflows[0]>0:!0)))return{data:{index:O,overflows:$},reset:{placement:b}};let M=(j=$.filter(z=>z.overflows[0]<=0).sort((z,H)=>z.overflows[1]-H.overflows[1])[0])==null?void 0:j.placement;if(!M)switch(m){case"bestFit":{var Y;const z=(Y=$.filter(H=>{if(E){const B=Ne(H.placement);return B===L||B==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(B=>B>0).reduce((B,V)=>B+V,0)]).sort((H,B)=>H[1]-B[1])[0])==null?void 0:Y[0];z&&(M=z);break}case"initialPlacement":M=c;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function kn(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function An(t){return Mr.some(e=>t[e]>=0)}const qr=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...a}=Ye(t,e);switch(r){case"referenceHidden":{const s=await At(e,{...a,elementContext:"reference"}),i=kn(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:An(i)}}}case"escaped":{const s=await At(e,{...a,altBoundary:!0}),i=kn(s,n.floating);return{data:{escapedOffsets:i,escaped:An(i)}}}default:return{}}}}},Wn=new Set(["left","top"]);async function Xr(t,e){const{placement:n,platform:r,elements:a}=t,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=qe(n),c=ht(n),u=Ne(n)==="y",v=Wn.has(i)?-1:1,f=s&&u?-1:1,h=Ye(e,t);let{mainAxis:y,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof g=="number"&&(m=c==="end"?g*-1:g),u?{x:m*f,y:y*v}:{x:y*v,y:m*f}}const Jr=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:s,placement:i,middlewareData:c}=e,u=await Xr(e,t);return i===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:a+u.x,y:s+u.y,data:{...u,placement:i}}}}},Kr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:c={fn:w=>{let{x:P,y:L}=w;return{x:P,y:L}}},...u}=Ye(t,e),v={x:n,y:r},f=await At(e,u),h=Ne(qe(a)),y=un(h);let m=v[y],g=v[h];if(s){const w=y==="y"?"top":"left",P=y==="y"?"bottom":"right",L=m+f[w],D=m-f[P];m=nn(L,m,D)}if(i){const w=h==="y"?"top":"left",P=h==="y"?"bottom":"right",L=g+f[w],D=g-f[P];g=nn(L,g,D)}const k=c.fn({...e,[y]:m,[h]:g});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[y]:s,[h]:i}}}}}},Qr=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:a,rects:s,middlewareData:i}=e,{offset:c=0,mainAxis:u=!0,crossAxis:v=!0}=Ye(t,e),f={x:n,y:r},h=Ne(a),y=un(h);let m=f[y],g=f[h];const k=Ye(c,e),w=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const D=y==="y"?"height":"width",C=s.reference[y]-s.floating[D]+w.mainAxis,_=s.reference[y]+s.reference[D]-w.mainAxis;m<C?m=C:m>_&&(m=_)}if(v){var P,L;const D=y==="y"?"width":"height",C=Wn.has(qe(a)),_=s.reference[h]-s.floating[D]+(C&&((P=i.offset)==null?void 0:P[h])||0)+(C?0:w.crossAxis),E=s.reference[h]+s.reference[D]+(C?0:((L=i.offset)==null?void 0:L[h])||0)-(C?w.crossAxis:0);g<_?g=_:g>E&&(g=E)}return{[y]:m,[h]:g}}}},Zr=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:a,rects:s,platform:i,elements:c}=e,{apply:u=()=>{},...v}=Ye(t,e),f=await At(e,v),h=qe(a),y=ht(a),m=Ne(a)==="y",{width:g,height:k}=s.floating;let w,P;h==="top"||h==="bottom"?(w=h,P=y===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(P=h,w=y==="end"?"top":"bottom");const L=k-f.top-f.bottom,D=g-f.left-f.right,C=nt(k-f[w],L),_=nt(g-f[P],D),E=!e.middlewareData.shift;let A=C,F=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(F=D),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=L),E&&!y){const $=xe(f.left,0),G=xe(f.right,0),j=xe(f.top,0),Y=xe(f.bottom,0);m?F=g-2*($!==0||G!==0?$+G:xe(f.left,f.right)):A=k-2*(j!==0||Y!==0?j+Y:xe(f.top,f.bottom))}await u({...e,availableWidth:F,availableHeight:A});const N=await i.getDimensions(c.floating);return g!==N.width||k!==N.height?{reset:{rects:!0}}:{}}}};function Ht(){return typeof window<"u"}function bt(t){return Hn(t)?(t.nodeName||"").toLowerCase():"#document"}function ye(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function je(t){var e;return(e=(Hn(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Hn(t){return Ht()?t instanceof Node||t instanceof ye(t).Node:!1}function Se(t){return Ht()?t instanceof Element||t instanceof ye(t).Element:!1}function ze(t){return Ht()?t instanceof HTMLElement||t instanceof ye(t).HTMLElement:!1}function En(t){return!Ht()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ye(t).ShadowRoot}const ea=new Set(["inline","contents"]);function St(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Te(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ea.has(a)}const ta=new Set(["table","td","th"]);function na(t){return ta.has(bt(t))}const ra=[":popover-open",":modal"];function Gt(t){return ra.some(e=>{try{return t.matches(e)}catch{return!1}})}const aa=["transform","translate","scale","rotate","perspective"],oa=["transform","translate","scale","rotate","perspective","filter"],sa=["paint","layout","strict","content"];function pn(t){const e=mn(),n=Se(t)?Te(t):t;return aa.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oa.some(r=>(n.willChange||"").includes(r))||sa.some(r=>(n.contain||"").includes(r))}function ia(t){let e=rt(t);for(;ze(e)&&!gt(e);){if(pn(e))return e;if(Gt(e))return null;e=rt(e)}return null}function mn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ca=new Set(["html","body","#document"]);function gt(t){return ca.has(bt(t))}function Te(t){return ye(t).getComputedStyle(t)}function Vt(t){return Se(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rt(t){if(bt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||En(t)&&t.host||je(t);return En(e)?e.host:e}function Gn(t){const e=rt(t);return gt(e)?t.ownerDocument?t.ownerDocument.body:t.body:ze(e)&&St(e)?e:Gn(e)}function Et(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Gn(t),s=a===((r=t.ownerDocument)==null?void 0:r.body),i=ye(a);if(s){const c=an(i);return e.concat(i,i.visualViewport||[],St(a)?a:[],c&&n?Et(c):[])}return e.concat(a,Et(a,[],n))}function an(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Vn(t){const e=Te(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=ze(t),s=a?t.offsetWidth:n,i=a?t.offsetHeight:r,c=It(n)!==s||It(r)!==i;return c&&(n=s,r=i),{width:n,height:r,$:c}}function gn(t){return Se(t)?t:t.contextElement}function pt(t){const e=gn(t);if(!ze(e))return $e(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:s}=Vn(e);let i=(s?It(n.width):n.width)/r,c=(s?It(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const la=$e(0);function Un(t){const e=ye(t);return!mn()||!e.visualViewport?la:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function da(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ye(t)?!1:e}function dt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),s=gn(t);let i=$e(1);e&&(r?Se(r)&&(i=pt(r)):i=pt(t));const c=da(s,n,r)?Un(s):$e(0);let u=(a.left+c.x)/i.x,v=(a.top+c.y)/i.y,f=a.width/i.x,h=a.height/i.y;if(s){const y=ye(s),m=r&&Se(r)?ye(r):r;let g=y,k=an(g);for(;k&&r&&m!==g;){const w=pt(k),P=k.getBoundingClientRect(),L=Te(k),D=P.left+(k.clientLeft+parseFloat(L.paddingLeft))*w.x,C=P.top+(k.clientTop+parseFloat(L.paddingTop))*w.y;u*=w.x,v*=w.y,f*=w.x,h*=w.y,u+=D,v+=C,g=ye(k),k=an(g)}}return Nt({width:f,height:h,x:u,y:v})}function Ut(t,e){const n=Vt(t).scrollLeft;return e?e.left+n:dt(je(t)).left+n}function Yn(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Ut(t,n),a=n.top+e.scrollTop;return{x:r,y:a}}function ua(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const s=a==="fixed",i=je(r),c=e?Gt(e.floating):!1;if(r===i||c&&s)return n;let u={scrollLeft:0,scrollTop:0},v=$e(1);const f=$e(0),h=ze(r);if((h||!h&&!s)&&((bt(r)!=="body"||St(i))&&(u=Vt(r)),ze(r))){const m=dt(r);v=pt(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const y=i&&!h&&!s?Yn(i,u):$e(0);return{width:n.width*v.x,height:n.height*v.y,x:n.x*v.x-u.scrollLeft*v.x+f.x+y.x,y:n.y*v.y-u.scrollTop*v.y+f.y+y.y}}function fa(t){return Array.from(t.getClientRects())}function va(t){const e=je(t),n=Vt(t),r=t.ownerDocument.body,a=xe(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=xe(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ut(t);const c=-n.scrollTop;return Te(r).direction==="rtl"&&(i+=xe(e.clientWidth,r.clientWidth)-a),{width:a,height:s,x:i,y:c}}const Pn=25;function pa(t,e){const n=ye(t),r=je(t),a=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,c=0,u=0;if(a){s=a.width,i=a.height;const f=mn();(!f||f&&e==="fixed")&&(c=a.offsetLeft,u=a.offsetTop)}const v=Ut(r);if(v<=0){const f=r.ownerDocument,h=f.body,y=getComputedStyle(h),m=f.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-m);g<=Pn&&(s-=g)}else v<=Pn&&(s+=v);return{width:s,height:i,x:c,y:u}}const ma=new Set(["absolute","fixed"]);function ga(t,e){const n=dt(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,s=ze(t)?pt(t):$e(1),i=t.clientWidth*s.x,c=t.clientHeight*s.y,u=a*s.x,v=r*s.y;return{width:i,height:c,x:u,y:v}}function Sn(t,e,n){let r;if(e==="viewport")r=pa(t,n);else if(e==="document")r=va(je(t));else if(Se(e))r=ga(e,n);else{const a=Un(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Nt(r)}function qn(t,e){const n=rt(t);return n===e||!Se(n)||gt(n)?!1:Te(n).position==="fixed"||qn(n,e)}function ha(t,e){const n=e.get(t);if(n)return n;let r=Et(t,[],!1).filter(c=>Se(c)&&bt(c)!=="body"),a=null;const s=Te(t).position==="fixed";let i=s?rt(t):t;for(;Se(i)&&!gt(i);){const c=Te(i),u=pn(i);!u&&c.position==="fixed"&&(a=null),(s?!u&&!a:!u&&c.position==="static"&&!!a&&ma.has(a.position)||St(i)&&!u&&qn(t,i))?r=r.filter(f=>f!==i):a=c,i=rt(i)}return e.set(t,r),r}function ba(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const i=[...n==="clippingAncestors"?Gt(e)?[]:ha(e,this._c):[].concat(n),r],c=i[0],u=i.reduce((v,f)=>{const h=Sn(e,f,a);return v.top=xe(h.top,v.top),v.right=nt(h.right,v.right),v.bottom=nt(h.bottom,v.bottom),v.left=xe(h.left,v.left),v},Sn(e,c,a));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _a(t){const{width:e,height:n}=Vn(t);return{width:e,height:n}}function xa(t,e,n){const r=ze(e),a=je(e),s=n==="fixed",i=dt(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const u=$e(0);function v(){u.x=Ut(a)}if(r||!r&&!s)if((bt(e)!=="body"||St(a))&&(c=Vt(e)),r){const m=dt(e,!0,s,e);u.x=m.x+e.clientLeft,u.y=m.y+e.clientTop}else a&&v();s&&!r&&a&&v();const f=a&&!r&&!s?Yn(a,c):$e(0),h=i.left+c.scrollLeft-u.x-f.x,y=i.top+c.scrollTop-u.y-f.y;return{x:h,y,width:i.width,height:i.height}}function tn(t){return Te(t).position==="static"}function Tn(t,e){if(!ze(t)||Te(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return je(t)===n&&(n=n.ownerDocument.body),n}function Xn(t,e){const n=ye(t);if(Gt(t))return n;if(!ze(t)){let a=rt(t);for(;a&&!gt(a);){if(Se(a)&&!tn(a))return a;a=rt(a)}return n}let r=Tn(t,e);for(;r&&na(r)&&tn(r);)r=Tn(r,e);return r&&gt(r)&&tn(r)&&!pn(r)?n:r||ia(t)||n}const ya=async function(t){const e=this.getOffsetParent||Xn,n=this.getDimensions,r=await n(t.floating);return{reference:xa(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wa(t){return Te(t).direction==="rtl"}const Oa={convertOffsetParentRelativeRectToViewportRelativeRect:ua,getDocumentElement:je,getClippingRect:ba,getOffsetParent:Xn,getElementRects:ya,getClientRects:fa,getDimensions:_a,getScale:pt,isElement:Se,isRTL:wa};function Jn(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ca(t,e){let n=null,r;const a=je(t);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const v=t.getBoundingClientRect(),{left:f,top:h,width:y,height:m}=v;if(c||e(),!y||!m)return;const g=Lt(h),k=Lt(a.clientWidth-(f+y)),w=Lt(a.clientHeight-(h+m)),P=Lt(f),D={rootMargin:-g+"px "+-k+"px "+-w+"px "+-P+"px",threshold:xe(0,nt(1,u))||1};let C=!0;function _(E){const A=E[0].intersectionRatio;if(A!==u){if(!C)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!Jn(v,t.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(_,{...D,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,D)}n.observe(t)}return i(!0),s}function ka(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,v=gn(t),f=a||s?[...v?Et(v):[],...Et(e)]:[];f.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),s&&P.addEventListener("resize",n)});const h=v&&c?Ca(v,n):null;let y=-1,m=null;i&&(m=new ResizeObserver(P=>{let[L]=P;L&&L.target===v&&m&&(m.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var D;(D=m)==null||D.observe(e)})),n()}),v&&!u&&m.observe(v),m.observe(e));let g,k=u?dt(t):null;u&&w();function w(){const P=dt(t);k&&!Jn(k,P)&&n(),k=P,g=requestAnimationFrame(w)}return n(),()=>{var P;f.forEach(L=>{a&&L.removeEventListener("scroll",n),s&&L.removeEventListener("resize",n)}),h==null||h(),(P=m)==null||P.disconnect(),m=null,u&&cancelAnimationFrame(g)}}const Aa=Jr,Ea=Kr,Pa=Yr,Sa=Zr,Ta=qr,Ba=Ur,La=Qr,Da=(t,e,n)=>{const r=new Map,a={platform:Oa,...n},s={...a.platform,_c:r};return Vr(t,e,{...a,platform:s})};function Bn(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const a={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...a,toJSON:()=>a}}function Ma(t){if(!t)return Bn();const{x:e,y:n,width:r,height:a}=t;return Bn(e,n,r,a)}function Ra(t,e){return{contextElement:ur(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?Ma(r):n.getBoundingClientRect()}}}var Ct=t=>({variable:t,reference:`var(${t})`}),Ue={arrowSize:Ct("--arrow-size"),arrowSizeHalf:Ct("--arrow-size-half"),arrowBg:Ct("--arrow-background"),transformOrigin:Ct("--transform-origin"),arrowOffset:Ct("--arrow-offset")},Ia=t=>t==="top"||t==="bottom"?"y":"x";function Fa(t,e){return{name:"transformOrigin",fn(n){var N,$,G,j;const{elements:r,middlewareData:a,placement:s,rects:i,y:c}=n,u=s.split("-")[0],v=Ia(u),f=((N=a.arrow)==null?void 0:N.x)||0,h=(($=a.arrow)==null?void 0:$.y)||0,y=(e==null?void 0:e.clientWidth)||0,m=(e==null?void 0:e.clientHeight)||0,g=f+y/2,k=h+m/2,w=Math.abs(((G=a.shift)==null?void 0:G.y)||0),P=i.reference.height/2,L=m/2,D=((j=t.offset)==null?void 0:j.mainAxis)??t.gutter,C=typeof D=="number"?D+L:D??L,_=w>C,E={top:`${g}px calc(100% + ${C}px)`,bottom:`${g}px ${-C}px`,left:`calc(100% + ${C}px) ${k}px`,right:`${-C}px ${k}px`}[u],A=`${g}px ${i.reference.y+P-c}px`,F=!!t.overlap&&v==="y"&&_;return r.floating.style.setProperty(Ue.transformOrigin.variable,F?A:E),{data:{transformOrigin:F?A:E}}}}}var Na={name:"rects",fn({rects:t}){return{data:t}}},$a=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:a}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:a!=null?`${a}px`:"",[s]:`calc(100% + ${Ue.arrowOffset.reference})`}),{}}}};function za(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var ja={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function Ln(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function hn(t){return typeof t=="function"?t():t==="clipping-ancestors"?"clippingAncestors":t}function Wa(t,e,n){const r=t||e.createElement("div");return Ba({element:r,padding:n.arrowPadding})}function Ha(t,e){if(!fr(e.offset??e.gutter))return Aa(({placement:n})=>{var v,f;const r=((t==null?void 0:t.clientHeight)||0)/2,a=((v=e.offset)==null?void 0:v.mainAxis)??e.gutter,s=typeof a=="number"?a+r:a??r,{hasAlign:i}=za(n),c=i?void 0:e.shift,u=((f=e.offset)==null?void 0:f.crossAxis)??c;return mr({crossAxis:u,mainAxis:s,alignmentAxis:e.shift})})}function Ga(t){if(!t.flip)return;const e=hn(t.boundary);return Pa({...e?{boundary:e}:void 0,padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Va(t){if(!t.slide&&!t.overlap)return;const e=hn(t.boundary);return Ea({...e?{boundary:e}:void 0,mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:La()})}function Ua(t){return Sa({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:a}){const s=e.floating,i=Math.round(n.reference.width),c=Math.round(n.reference.height);a=Math.floor(a),r=Math.floor(r),s.style.setProperty("--reference-width",`${i}px`),s.style.setProperty("--reference-height",`${c}px`),s.style.setProperty("--available-width",`${a}px`),s.style.setProperty("--available-height",`${r}px`)}})}function Ya(t){if(t.hideWhenDetached)return Ta({strategy:"referenceHidden",boundary:hn(t.boundary)??"clippingAncestors"})}function qa(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Xa(t,e,n={}){const r=Ra(t,n.getAnchorRect);if(!e||!r)return;const a=Object.assign({},ja,n),s=e.querySelector("[data-part=arrow]"),i=[Ha(s,a),Ga(a),Va(a),Wa(s,e.ownerDocument,a),$a(s),Fa({gutter:a.gutter,offset:a.offset,overlap:a.overlap},s),Ua(a),Ya(a),Na],{placement:c,strategy:u,onComplete:v,onPositioned:f}=a,h=async()=>{var C;if(!r||!e)return;const k=await Da(r,e,{placement:c,middleware:i,strategy:u});v==null||v(k),f==null||f({placed:!0});const w=vr(e),P=Ln(w,k.x),L=Ln(w,k.y);e.style.setProperty("--x",`${P}px`),e.style.setProperty("--y",`${L}px`),a.hideWhenDetached&&(((C=k.middlewareData.hide)==null?void 0:C.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const D=e.firstElementChild;if(D){const _=pr(D);e.style.setProperty("--z-index",_.zIndex)}},y=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:h,floatingElement:e}),f==null||f({placed:!0})):await h()},m=qa(a.listeners),g=a.listeners?ka(r,e,y,m):dr;return y(),()=>{g==null||g(),f==null||f({placed:!1})}}function Dn(t,e,n={}){const{defer:r,...a}=n,s=r?Mt:c=>c(),i=[];return i.push(s(()=>{const c=typeof t=="function"?t():t,u=typeof e=="function"?e():e;i.push(Xa(c,u,a))})),()=>{i.forEach(c=>c==null?void 0:c())}}var Ja={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Ka(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:a="absolute"}=t;return{arrow:{position:"absolute",width:Ue.arrowSize.reference,height:Ue.arrowSize.reference,[Ue.arrowSizeHalf.variable]:`calc(${Ue.arrowSize.reference} / 2)`,[Ue.arrowOffset.variable]:`calc(${Ue.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Ja[e.split("-")[0]]:void 0,background:Ue.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:a,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Qa=wr("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Re=Qa.build(),Kn=t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},Qn=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},on=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},Zn=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},Za=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},sn=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},cn=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},eo=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},Mn=t=>t.getById(Kn(t)),ft=t=>t.getById(Qn(t)),vt=t=>t.getById(on(t)),Rn=t=>t.getById(Zn(t)),to=t=>t.getById(sn(t)),no=t=>t.getById(cn(t));function ro(t,e){const{state:n,context:r,send:a,computed:s,prop:i,scope:c}=t,u=n.matches("open"),v=r.get("currentPlacement"),f=s("currentPortalled"),h=r.get("renderedElements"),y=Ka({...i("positioning"),placement:v});return{portalled:f,open:u,setOpen(m){n.matches("open")!==m&&a({type:m?"OPEN":"CLOSE"})},reposition(m={}){a({type:"POSITIONING.SET",options:m})},getArrowProps(){return e.element({id:Za(c),...Re.arrow.attrs,dir:i("dir"),style:y.arrow})},getArrowTipProps(){return e.element({...Re.arrowTip.attrs,dir:i("dir"),style:y.arrowTip})},getAnchorProps(){return e.element({...Re.anchor.attrs,dir:i("dir"),id:Kn(c)})},getTriggerProps(){return e.button({...Re.trigger.attrs,dir:i("dir"),type:"button","data-placement":v,id:Qn(c),"aria-haspopup":"dialog","aria-expanded":u,"data-state":u?"open":"closed","aria-controls":on(c),onPointerDown(m){Cr(m)&&kr()&&m.currentTarget.focus()},onClick(m){m.defaultPrevented||a({type:"TOGGLE"})},onBlur(m){a({type:"TRIGGER_BLUR",target:m.relatedTarget})}})},getIndicatorProps(){return e.element({...Re.indicator.attrs,dir:i("dir"),"data-state":u?"open":"closed"})},getPositionerProps(){return e.element({id:Zn(c),...Re.positioner.attrs,dir:i("dir"),style:y.floating})},getContentProps(){return e.element({...Re.content.attrs,dir:i("dir"),id:on(c),tabIndex:-1,role:"dialog",hidden:!u,"data-state":u?"open":"closed","data-expanded":Or(u),"aria-labelledby":h.title?sn(c):void 0,"aria-describedby":h.description?cn(c):void 0,"data-placement":v})},getTitleProps(){return e.element({...Re.title.attrs,id:sn(c),dir:i("dir")})},getDescriptionProps(){return e.element({...Re.description.attrs,id:cn(c),dir:i("dir")})},getCloseTriggerProps(){return e.button({...Re.closeTrigger.attrs,dir:i("dir"),id:eo(c),type:"button","aria-label":"close",onClick(m){m.defaultPrevented||(m.stopPropagation(),a({type:"CLOSE"}))}})}}}var ao=gr({props({props:t}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{currentPlacement:t(()=>({defaultValue:void 0})),renderedElements:t(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:t})=>!!t("modal")||!!t("portalled")},watch({track:t,prop:e,action:n}){t([()=>e("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackPositioning({context:t,prop:e,scope:n}){t.set("currentPlacement",e("positioning").placement);const r=Mn(n)??ft(n);return Dn(r,()=>Rn(n),{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},trackDismissableElement({send:t,prop:e,scope:n}){const r=()=>vt(n);let a=!0;return yr(r,{type:"popover",pointerBlocking:e("modal"),exclude:ft(n),defer:!0,onEscapeKeyDown(s){var i;(i=e("onEscapeKeyDown"))==null||i(s),!e("closeOnEscape")&&s.preventDefault()},onInteractOutside(s){var i;(i=e("onInteractOutside"))==null||i(s),!s.defaultPrevented&&(a=!(s.detail.focusable||s.detail.contextmenu),e("closeOnInteractOutside")||s.preventDefault())},onPointerDownOutside:e("onPointerDownOutside"),onFocusOutside:e("onFocusOutside"),persistentElements:e("persistentElements"),onRequestDismiss:e("onRequestDismiss"),onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:a})}})},proxyTabFocus({prop:t,scope:e}){return t("modal")||!t("portalled")?void 0:xr(()=>vt(e),{triggerElement:ft(e),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:t,scope:e}){return t("modal")?_r(()=>[vt(e),ft(e)],{defer:!0}):void 0},preventScroll({prop:t,scope:e}){if(t("modal"))return br(e.getDoc())},trapFocus({prop:t,scope:e}){return t("modal")?hr(()=>vt(e),{initialFocus:()=>_n({root:vt(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")})}):void 0}},actions:{reposition({event:t,prop:e,scope:n,context:r}){const a=Mn(n)??ft(n);Dn(a,()=>Rn(n),{...e("positioning"),...t.options,defer:!0,listeners:!1,onComplete(i){r.set("currentPlacement",i.placement)}})},checkRenderedElements({context:t,scope:e}){Mt(()=>{Object.assign(t.get("renderedElements"),{title:!!to(e),description:!!no(e)})})},setInitialFocus({prop:t,scope:e}){t("modal")||Mt(()=>{const n=_n({root:vt(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:t,scope:e}){var r;const n=t.restoreFocus??((r=t.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Mt(()=>{const a=ft(e);a==null||a.focus({preventScroll:!0})})},invokeOnOpen({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!0})})},invokeOnClose({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!1})})},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}});Ar()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","portalled","positioning"]);var oo=S("<button><!></button>"),so=S("<div><div></div></div>"),io=S("<div><!> <div><!></div></div>"),co=S('<span data-testid="popover"><!> <div><!></div></span>');function Dt(t,e){const n=sr();Be(e,!0);const r=ce(e,"zIndex",3,"auto"),a=ce(e,"arrow",3,!1),s=ce(e,"arrowBackground",3,"var(--color-surface-950-50)"),i=ce(e,"arrowSize",3,"10px"),c=ce(e,"base",3,""),u=ce(e,"classes",3,""),v=ce(e,"triggerBase",3,""),f=ce(e,"triggerBackground",3,""),h=ce(e,"triggerClasses",3,""),y=ce(e,"triggerAriaLabel",3,""),m=ce(e,"positionerBase",3,""),g=ce(e,"positionerClasses",3,""),k=ce(e,"contentBase",3,""),w=ce(e,"contentBackground",3,""),P=ce(e,"contentClasses",3,""),L=ce(e,"arrowBase",3,""),D=ce(e,"arrowClasses",3,""),C=lr(e,["$$slots","$$events","$$legacy","zIndex","arrow","arrowBackground","arrowSize","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowClasses","trigger","content","onclick"]),_=Er(ao,()=>({id:n,...C})),E=fe(()=>ro(_,Tr)),A=fe(()=>Sr(o(E).getTriggerProps(),{onclick:e.onclick}));var F=co(),N=d(F);{var $=O=>{var b=oo();Ot(b,()=>({...o(A),class:`${v()??""} ${f()??""} ${h()??""}`,type:"button","aria-label":y()}));var M=d(b);bn(M,()=>e.trigger),l(b),x(O,b)};K(N,O=>{e.trigger&&O($)})}var G=p(N,2);Ot(G,O=>({...O,class:`${m()??""} ${g()??""}`}),[()=>o(E).getPositionerProps()]);var j=d(G);{var Y=O=>{var b=io();Ot(b,V=>({...V,style:`z-index: ${r()??""};`}),[()=>o(E).getContentProps()]);var M=d(b);{var z=V=>{var X=so();Ot(X,(I,U)=>({...I,[yn]:U}),[()=>o(E).getArrowProps(),()=>({"--arrow-size":i()})]);var R=d(X);Ot(R,(I,U)=>({...I,class:`${L()??""} ${D()??""}`,[yn]:U}),[()=>o(E).getArrowTipProps(),()=>({"--arrow-background":s()})]),l(X),x(V,X)};K(M,V=>{a()&&V(z)})}var H=p(M,2),B=d(H);bn(B,()=>e.content??ir),l(H),l(b),J(()=>Rt(H,1,`${k()??""} ${w()??""} ${P()??""}`)),Br(3,b,()=>Lr,()=>({duration:100})),x(O,b)};K(j,O=>{o(E).open&&O(Y)})}l(G),lt(G,(O,b)=>{var M;return(M=Pr)==null?void 0:M(O,b)},()=>({disabled:!o(E).portalled})),l(F),J(()=>Rt(F,1,`${c()??""} ${u()??""}`)),x(t,F),Le()}function lo(t,e){const n=$t(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];jt(t,zt({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(a,s)=>{var i=ge(),c=re(i);Wt(c,e,"default",{}),x(a,i)},$$slots:{default:!0}}))}function uo(t,e){const n=$t(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];jt(t,zt({name:"square-pen"},()=>n,{get iconNode(){return r},children:(a,s)=>{var i=ge(),c=re(i);Wt(c,e,"default",{}),x(a,i)},$$slots:{default:!0}}))}function ln(t,e){const n=$t(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];jt(t,zt({name:"trash-2"},()=>n,{get iconNode(){return r},children:(a,s)=>{var i=ge(),c=re(i);Wt(c,e,"default",{}),x(a,i)},$$slots:{default:!0}}))}function In(t,e){const n=$t(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.510.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]];jt(t,zt({name:"triangle-alert"},()=>n,{get iconNode(){return r},children:(a,s)=>{var i=ge(),c=re(i);Wt(c,e,"default",{}),x(a,i)},$$slots:{default:!0}}))}function fo(t,e){T(e,{id:crypto.randomUUID(),name:"",members:[]},!0)}var vo=(t,e)=>t.key==="Enter"&&e(),po=S('<span class="float-right text-sm text-red-600">No Dupes!</span>'),mo=(t,e,n)=>e(o(n).id),go=S('<li class="flex items-center justify-between"><span> </span> <button class="btn-icon btn-icon-sm"><!></button></li>'),ho=S('<div class="flex-grow space-y-4 overflow-y-auto"><h3 class="h3"> </h3> <label class="label"><span>Group Name</span> <input class="input" type="text" placeholder="e.g., Tour Buddies"/></label> <div><h4 class="h4"> </h4> <div class="mt-2"><div class="flex space-x-2"><input class="input flex-grow" type="text" placeholder="Add member name..."/> <button class="btn preset-filled-primary"><!></button></div></div></div> <ul class="list space-y-2"></ul></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary">Save Group</button></footer>',1),bo=(t,e,n)=>e(o(n)),_o=(t,e,n)=>e(o(n).id),xo=S('<li class="flex items-center justify-between"><div><p class="font-bold"> </p> <p class="text-sm opacity-70"> </p></div> <div class="flex space-x-2"><button class="btn btn-sm">Edit</button> <button class="btn-icon btn-icon-sm preset-filled-warning"><!></button></div></li>'),yo=S('<p class="p-4 text-center opacity-70">No groups created yet. Click "+ New Group" to start.</p>'),wo=S('<ul class="list"></ul> <!>',1),Oo=S('<header class="flex items-center justify-between"><h3 class="h3">Manage Groups</h3> <button class="btn preset-filled">+ New Group</button></header> <div class="flex-grow overflow-y-auto"><!></div> <footer class="flex justify-end"><button class="btn preset-tonal">Close</button></footer>',1),Co=S('<div class="card flex max-h-[80vh] flex-col space-y-4 p-4"><!></div>');function er(t,e){Be(e,!0);let n=ne(null),r=ne("");function a(g){T(n,JSON.parse(JSON.stringify(g)),!0)}function s(){T(n,null),T(r,"")}function i(){if(o(r).trim()===""||!o(n))return;const g={id:crypto.randomUUID(),name:o(r).trim()};o(n).members.push(g),T(r,"")}function c(g){o(n)&&(o(n).members=o(n).members.filter(k=>k.id!==g))}function u(){if(!o(n)||o(n).name.trim()==="")return;const g=se.current.findIndex(k=>k.id===o(n).id);g>-1?se.current[g]=o(n):se.current.push(o(n)),se.current=[...se.current],s()}function v(g){confirm("Are you sure you want to delete this group? This cannot be undone.")&&(se.current=se.current.filter(k=>k.id!==g))}var f=Co(),h=d(f);{var y=g=>{var k=ho(),w=re(k),P=d(w),L=d(P,!0);l(P);var D=p(P,2),C=p(d(D),2);Fe(C),l(D);var _=p(D,2),E=d(_),A=d(E);l(E);var F=p(E,2),N=d(F),$=d(N);Fe($),$.__keydown=[vo,i];var G=p($,2);G.__click=i;var j=d(G);{var Y=B=>{var V=po();x(B,V)},O=B=>{var V=cr("Add");x(B,V)};K(j,B=>{o(r).trim()!==""&&o(n).members.some(V=>V.name.trim().toLowerCase()===o(r).trim().toLowerCase())?B(Y):B(O,!1)})}l(G),l(N),l(F),l(_);var b=p(_,2);ue(b,21,()=>o(n).members,B=>B.id,(B,V)=>{var X=go(),R=d(X),I=d(R,!0);l(R);var U=p(R,2);U.__click=[mo,c,V];var Q=d(U);ln(Q,{size:16}),l(U),l(X),J(()=>W(I,o(V).name)),x(B,X)}),l(b),l(w),lt(w,B=>{var V;return(V=mt)==null?void 0:V(B)});var M=p(w,2),z=d(M);z.__click=s;var H=p(z,2);H.__click=u,l(M),J(B=>{W(L,o(n).id?"Edit Group":"Create Group"),W(A,`Members (${o(n).members.length??""})`),G.disabled=B},[()=>o(r).trim()===""||o(n).members.some(B=>B.name.trim().toLowerCase()===o(r).trim().toLowerCase())]),tt(C,()=>o(n).name,B=>o(n).name=B),tt($,()=>o(r),B=>T(r,B)),x(g,k)},m=g=>{var k=Oo(),w=re(k),P=p(d(w),2);P.__click=[fo,n],l(w);var L=p(w,2),D=d(L);{var C=A=>{var F=wo(),N=re(F);ue(N,21,()=>se.current,j=>j.id,(j,Y)=>{var O=xo(),b=d(O),M=d(b),z=d(M,!0);l(M);var H=p(M,2),B=d(H);l(H),l(b);var V=p(b,2),X=d(V);X.__click=[bo,a,Y];var R=p(X,2);R.__click=[_o,v,Y];var I=d(R);ln(I,{size:16}),l(R),l(V),l(O),J(()=>{W(z,o(Y).name),W(B,`${o(Y).members.length??""} members`)}),x(j,O)}),l(N);var $=p(N,2);{var G=j=>{var Y=yo();x(j,Y)};K($,j=>{se.current.length===0&&j(G)})}x(A,F)};K(D,A=>{se.current&&A(C)})}l(L),lt(L,A=>{var F;return(F=mt)==null?void 0:F(A)});var _=p(L,2),E=d(_);E.__click=function(...A){var F;(F=e.close)==null||F.apply(this,A)},l(_),x(g,k)};K(h,g=>{o(n)?g(y):g(m,!1)})}l(f),x(t,f),Le()}Xe(["keydown","click"]);var ko=S("<option> </option>"),Ao=S('<select class="select"><option disabled>-- Choose a group --</option><!></select>'),Eo=S('<div class="card bg-warning-200 p-4 text-center"><p>You must create a group first before you can create a ledger.</p></div>'),Po=S('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3">Create New Ledger</h3></header> <div class="flex-grow space-y-4 overflow-y-auto"><label class="label"><span>Ledger Name</span> <input class="input" type="text" placeholder="e.g., Goa Trip 2025"/></label> <label class="label"><span>Select a Group</span> <!></label></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary">Create</button></footer></div>');function tr(t,e){Be(e,!0);let n=ne(""),r=ne(null);Pt(()=>{se.current&&se.current.length>0&&o(r)===null&&T(r,se.current[0].id,!0)});function a(){if(!o(n).trim()||!o(r)){alert("Please provide a ledger name and select a group.");return}const w={id:crypto.randomUUID(),name:o(n).trim(),groupId:o(r),transactions:[]};q.current.push(w),q.current=[...q.current],ct.current=w.id,e.close()}var s=Po(),i=p(d(s),2),c=d(i),u=p(d(c),2);Fe(u),l(c);var v=p(c,2),f=p(d(v),2);{var h=w=>{var P=Ao(),L=d(P);L.value=(L.__value=null)??"";var D=p(L);ue(D,17,()=>se.current,C=>C.id,(C,_)=>{var E=ko(),A=d(E,!0);l(E);var F={};J(()=>{W(A,o(_).name),F!==(F=o(_).id)&&(E.value=(E.__value=o(_).id)??"")}),x(C,E)}),l(P),dn(P,()=>o(r),C=>T(r,C)),x(w,P)},y=w=>{var P=Eo();x(w,P)};K(f,w=>{se.current&&se.current.length>0?w(h):w(y,!1)})}l(v),l(i);var m=p(i,2),g=d(m);g.__click=function(...w){var P;(P=e.close)==null||P.apply(this,w)};var k=p(g,2);k.__click=a,l(m),l(s),J(w=>k.disabled=w,[()=>!o(n).trim()||!o(r)]),tt(u,()=>o(n),w=>T(n,w)),x(t,s),Le()}Xe(["click"]);function So(t,e,n,r){if(!o(e))return;const a=o(n)===o(e).members.length;for(const s of o(e).members)r[s.id]=!a}var To=S('<label class="label"><span> </span> <input class="input" type="number" placeholder="0.00"/></label>'),Bo=S('<div class="alert variant-soft-warning"><!> <span>The sum of payments does not match the optional total amount.</span></div>'),Lo=S('<label class="card flex items-center space-x-2 p-2"><input type="checkbox" class="checkbox"/> <span> </span></label>'),Do=S('<div class="flex-grow space-y-4 overflow-y-auto"><div class="space-y-4"><label class="label"><span>Description</span> <input class="input" type="text" placeholder="e.g., Lunch at the cafe"/></label> <label class="label"><span>Total Amount (Optional)</span> <input class="input" type="number" placeholder="For verification (e.g., 150)"/></label></div> <div class="space-y-2"><h4 class="h4">Paid By</h4> <div class="grid grid-cols-2 gap-4"></div> <div class="pr-2 text-right font-bold">Total Paid: <span> </span></div> <!></div> <div class="space-y-2"><div class="flex items-center justify-between"><h4 class="h4"> </h4> <button class="btn btn-sm"> </button></div> <div class="grid grid-cols-2 gap-2"></div></div></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-primary"> </button></footer>',1),Mo=S('<div class="alert variant-soft-error"><!> <span>Could not find the associated group for this ledger.</span></div>'),Ro=S('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3"> </h3></header> <!></div>');function Io(t,e){Be(e,!0);let n=ce(e,"transactionToEdit",3,null);const r=fe(()=>se.current.find(C=>C.id===e.ledger.groupId));let a=ne(""),s=ne(void 0),i=et({}),c=et({});Pt(()=>{var _;(_=n())==null||_.id;const C=o(r);if(C)if(n()){T(a,n().description,!0),T(s,n().totalAmount,!0);for(const E of C.members){const A=n().payers.find(F=>F.id===E.id);i[E.id]=A?A.amount:null,c[E.id]=n().beneficiaries.some(F=>F.id===E.id)||!1}}else{T(a,""),T(s,void 0);for(const E of C.members)i[E.id]=null,c[E.id]=!0}});const u=fe(()=>Object.values(i).reduce((C,_)=>C+(_||0),0)),v=fe(()=>o(s)!==void 0&&o(s)>0&&Math.abs(o(s)-o(u))>.001),f=fe(()=>Object.values(c).filter(C=>C).length),h=fe(()=>o(a).trim()!==""&&o(u)>0&&o(f)>0&&!o(v));function y(){if(!o(h)||!o(r))return;const C=[];for(const A of o(r).members){const F=i[A.id];F&&F>0&&C.push({...A,amount:F})}const _=[];for(const A of o(r).members)c[A.id]&&_.push(A);const E=q.current.findIndex(A=>A.id===e.ledger.id);if(E!==-1){if(n()){const A=q.current[E].transactions.findIndex(F=>F.id===n().id);A>-1&&(q.current[E].transactions[A]={...n(),description:o(a).trim(),totalAmount:o(s),payers:C,beneficiaries:_})}else{const A={id:crypto.randomUUID(),description:o(a).trim(),totalAmount:o(s),payers:C,beneficiaries:_};q.current[E].transactions.push(A)}q.current=[...q.current],e.close()}}var m=Ro(),g=d(m),k=d(g),w=d(k,!0);l(k),l(g);var P=p(g,2);{var L=C=>{var _=Do(),E=re(_),A=d(E),F=d(A),N=p(d(F),2);Fe(N),l(F);var $=p(F,2),G=p(d($),2);Fe(G),l($),l(A);var j=p(A,2),Y=p(d(j),2);ue(Y,21,()=>o(r).members,ee=>ee.id,(ee,ae)=>{var de=To(),be=d(de),De=d(be,!0);l(be);var Je=p(be,2);Fe(Je),l(de),J(()=>W(De,o(ae).name)),tt(Je,()=>i[o(ae).id],Me=>i[o(ae).id]=Me),x(ee,de)}),l(Y);var O=p(Y,2),b=p(d(O));let M;var z=d(b,!0);l(b),l(O);var H=p(O,2);{var B=ee=>{var ae=Bo(),de=d(ae);In(de,{}),kt(2),l(ae),x(ee,ae)};K(H,ee=>{o(v)&&ee(B)})}l(j);var V=p(j,2),X=d(V),R=d(X),I=d(R);l(R);var U=p(R,2);U.__click=[So,r,f,c];var Q=d(U);l(U),l(X);var ve=p(X,2);ue(ve,21,()=>o(r).members,ee=>ee.id,(ee,ae)=>{var de=Lo(),be=d(de);Fe(be);var De=p(be,2),Je=d(De,!0);l(De),l(de),J(()=>W(Je,o(ae).name)),$n(be,()=>c[o(ae).id],Me=>c[o(ae).id]=Me),x(ee,de)}),l(ve),l(V),l(E);var oe=p(E,2),he=d(oe);he.__click=function(...ee){var ae;(ae=e.close)==null||ae.apply(this,ee)};var le=p(he,2);le.__click=y;var we=d(le);l(le),l(oe),J((ee,ae)=>{M=Rt(b,1,"",null,M,ee),W(z,ae),W(I,`Split Between (${o(f)??""})`),W(Q,`${o(f)===o(r).members.length?"Deselect":"Select"} All`),le.disabled=!o(h),W(we,`${n()?"Update":"Save"} Expense`)},[()=>({"text-error-500":o(v)}),()=>o(u).toFixed(2)]),tt(N,()=>o(a),ee=>T(a,ee)),tt(G,()=>o(s),ee=>T(s,ee)),x(C,_)},D=C=>{var _=Mo(),E=d(_);In(E,{}),kt(2),l(_),x(C,_)};K(P,C=>{o(r)?C(L):C(D,!1)})}l(m),J(()=>W(w,n()?"Edit Expense":"Add New Expense")),x(t,m),Le()}Xe(["click"]);function Fo(t,e,n){e("edit",n.transaction)}function No(t,e,n){e("delete",n.transaction.id)}var $o=S('<span class="w-full"><span class="float-left font-medium"> </span>: <span class="text-primary-500 float-right font-mono"> </span></span>'),zo=S('<span class="opacity-70">None</span>'),jo=S('<span class="opacity-70">None</span>'),Wo=S('<span class="font-medium">everyone</span>'),Ho=S('<span class="font-medium"> </span> <p class="mt-2 w-full text-center opacity-50">Not For</p> <span class="opacity-50"> </span>',1),Go=S('<div class="card bg-surface-900 space-y-2 p-4"><div class="flex items-start justify-between"><h3 class="h6 flex-grow"> </h3> <span class="bg-surface-800 pl-1 pr-1 text-lg font-bold"> </span></div> <div class="bg-surface-800 flex w-full p-2"><div class="border-surface-300 flex w-1/2 flex-col items-start space-y-1 border-r pr-4"><p class="w-full text-center">Paid By:</p> <!></div> <div class="flex w-1/2 flex-col items-start space-y-1 pl-4"><p class="w-full text-center">For</p> <!></div></div> <footer class="flex justify-between space-x-2"><button class="btn preset-filled-warning mb-0 pb-0"><!> Delete</button> <button class="btn mb-0 pb-0"><!> Edit</button></footer></div>');function Vo(t,e){Be(e,!0);const n=rr(),r=fe(()=>e.transaction.payers.reduce((N,$)=>N+$.amount,0).toFixed(2)),a=fe(()=>()=>{if(!e.groupMembers||e.groupMembers.length===0||e.transaction.beneficiaries.length!==e.groupMembers.length)return!1;const N=new Set(e.transaction.beneficiaries.map($=>$.name));return e.groupMembers.every($=>N.has($.name))});var s=Go(),i=d(s),c=d(i),u=d(c,!0);l(c);var v=p(c,2),f=d(v);l(v),l(i);var h=p(i,2),y=d(h),m=p(d(y),2);{var g=N=>{var $=ge(),G=re($);ue(G,17,()=>e.transaction.payers,j=>j.id,(j,Y)=>{var O=$o(),b=d(O),M=d(b,!0);l(b);var z=p(b,2),H=d(z);l(z),l(O),J(B=>{W(M,o(Y).name),W(H,`$${B??""}`)},[()=>o(Y).amount.toFixed(2)]),x(j,O)}),x(N,$)},k=N=>{var $=zo();x(N,$)};K(m,N=>{e.transaction.payers.length>0?N(g):N(k,!1)})}l(y);var w=p(y,2),P=p(d(w),2);{var L=N=>{var $=jo();x(N,$)},D=N=>{var $=ge(),G=re($);{var j=O=>{var b=Wo();x(O,b)},Y=O=>{var b=Ho(),M=re(b),z=d(M,!0);l(M);var H=p(M,4),B=d(H,!0);l(H),J((V,X)=>{W(z,V),W(B,X)},[()=>e.transaction.beneficiaries.map(V=>V.name).join(", "),()=>(()=>{const V=new Set(e.transaction.beneficiaries.map(R=>R.name)),X=e.groupMembers.filter(R=>!V.has(R.name)).map(R=>R.name);return X.length?X.join(", "):"None"})()]),x(O,b)};K(G,O=>{o(a)()?O(j):O(Y,!1)},!0)}x(N,$)};K(P,N=>{e.transaction.beneficiaries.length===0?N(L):N(D,!1)})}l(w),l(h);var C=p(h,2),_=d(C);_.__click=[No,n,e];var E=d(_);ln(E,{size:16,class:"mr-2"}),kt(),l(_);var A=p(_,2);A.__click=[Fo,n,e];var F=d(A);uo(F,{size:16,class:"mr-2"}),kt(),l(A),l(C),l(s),J(()=>{W(u,e.transaction.description),W(f,`$${o(r)??""}`)}),x(t,s),Le()}Xe(["click"]);function Uo(t,e){const n=new Map;for(const s of e.members)n.set(s.id,{person:s,totalPaid:0,totalShare:0,netBalance:0});for(const s of t.transactions){const i=s.payers.reduce((v,f)=>v+f.amount,0),c=s.beneficiaries.length;if(c===0)continue;const u=i/c;for(const v of s.payers){const f=n.get(v.id);f&&(f.totalPaid+=v.amount)}for(const v of s.beneficiaries){const f=n.get(v.id);f&&(f.totalShare+=u)}}const r=[];for(const s of n.values())s.netBalance=s.totalPaid-s.totalShare,r.push(s);const a=Yo(JSON.parse(JSON.stringify(r)));return{memberBalances:r,settlements:a}}function Yo(t){const e=[];let r=t.filter(s=>s.netBalance>.01),a=t.filter(s=>s.netBalance<-.01);for(r.sort((s,i)=>i.netBalance-s.netBalance),a.sort((s,i)=>s.netBalance-i.netBalance);r.length>0&&a.length>0;){const s=r[0],i=a[0],c=Math.min(s.netBalance,-i.netBalance);e.push({from:i.person.name,to:s.person.name,amount:c}),s.netBalance-=c,i.netBalance+=c,s.netBalance<.01&&r.shift(),i.netBalance>-.01&&a.shift()}return e}var qo=S('<li class="flex items-center justify-between p-2"><div class="flex items-center space-x-2"><span class="font-bold"> </span> <!> <span class="font-bold"> </span></div> <span class="text-primary-500 font-mono text-lg"> </span></li>'),Xo=S('<ul class="list"></ul>'),Jo=S('<p class="p-4 text-center opacity-70">Everyone is settled up!</p>'),Ko=S('<tr><td> </td><td class="text-right text-green-500"> </td><td class="text-right text-red-500"> </td><td> </td></tr>'),Qo=S('<div class="flex-grow space-y-6 overflow-y-auto"><div><h4 class="h4 mb-2">Who Pays Whom</h4> <!></div> <div><h4 class="h4 mb-2">Detailed Breakdown</h4> <table class="table-compact table w-full"><thead><tr><th class="text-left">Name</th><th class="!text-right">Paid</th><th class="!text-right">Share</th><th class="!text-right">Balance</th></tr></thead><tbody></tbody></table></div></div>'),Zo=S('<p class="p-4 text-center opacity-70">Could not calculate the settlement.</p>'),es=S('<div class="flex max-h-[80vh] flex-col space-y-4 p-4"><header><h3 class="h3"> </h3></header> <!> <footer class="flex justify-end"><button class="btn preset-tonal">Close</button></footer></div>');function nr(t,e){Be(e,!0);const n=fe(()=>se.current.find(m=>m.id===e.ledger.groupId)),r=fe(()=>o(n)&&e.ledger?Uo(e.ledger,o(n)):null);var a=es(),s=d(a),i=d(s),c=d(i);l(i),l(s);var u=p(s,2);{var v=m=>{var g=Qo(),k=d(g),w=p(d(k),2);{var P=E=>{var A=Xo();ue(A,21,()=>o(r).settlements,xn,(F,N)=>{var $=qo(),G=d($),j=d(G),Y=d(j,!0);l(j);var O=p(j,2);lo(O,{size:16,class:"text-primary-500"});var b=p(O,2),M=d(b,!0);l(b),l(G);var z=p(G,2),H=d(z);l(z),l($),J(B=>{W(Y,o(N).from),W(M,o(N).to),W(H,`$${B??""}`)},[()=>o(N).amount.toFixed(2)]),x(F,$)}),l(A),x(E,A)},L=E=>{var A=Jo();x(E,A)};K(w,E=>{o(r).settlements.length>0?E(P):E(L,!1)})}l(k);var D=p(k,2),C=p(d(D),2),_=p(d(C));ue(_,21,()=>o(r).memberBalances,xn,(E,A)=>{var F=Ko(),N=d(F),$=d(N,!0);l(N);var G=p(N),j=d(G,!0);l(G);var Y=p(G),O=d(Y,!0);l(Y);var b=p(Y);let M;var z=d(b,!0);l(b),l(F),J((H,B,V,X)=>{W($,o(A).person.name),W(j,H),W(O,B),M=Rt(b,1,"text-right font-bold",null,M,V),W(z,X)},[()=>o(A).totalPaid.toFixed(2),()=>o(A).totalShare.toFixed(2),()=>({"text-green-400":o(A).netBalance>0,"text-red-400":o(A).netBalance<0}),()=>o(A).netBalance.toFixed(2)]),x(E,F)}),l(_),l(C),l(D),l(g),x(m,g)},f=m=>{var g=Zo();x(m,g)};K(u,m=>{o(r)?m(v):m(f,!1)})}var h=p(u,2),y=d(h);y.__click=function(...m){var g;(g=e.close)==null||g.apply(this,m)},l(h),l(a),J(()=>W(c,`Settlement for "${e.ledger.name??""}"`)),x(t,a),Le()}Xe(["click"]);function ts(t,e,n){T(e,null),T(n,!0)}var ns=(t,e)=>T(e,!0),rs=(t,e)=>T(e,!0),as=(t,e)=>T(e,!0),os=S("<option> </option>"),ss=S('<div class="flex items-center space-x-2"><span class="font-bold">Active Ledger:</span> <select class="select"><option disabled selected>-- Select a Ledger --</option><!></select></div>'),is=(t,e)=>T(e,!0),cs=S('<div class="card bg-surface-900 space-y-4 p-8 text-center"><h3 class="h3">Welcome!</h3> <p>Create your first ledger to start tracking expenses for a trip or event.</p> <button class="btn preset-filled-primary">Create a Ledger</button></div>'),ls=(t,e)=>T(e,!0),ds=S('<div class="space-y-4"></div>'),us=S('<div class="p-8 text-center opacity-70"><p> </p> <p>Click "+ Add Expense" to get started!</p></div>'),fs=S('<div class="space-y-4"><div class="flex items-center justify-between"><h2 class="h2">Transactions</h2> <div class="flex space-x-2"><button class="btn preset-filled">Settle Up</button></div></div> <!></div>'),vs=(t,e)=>T(e,!1),ps=(t,e)=>{zn(),T(e,!1)},ms=S(`<header class="flex justify-between"><h4 class="h4">Load Example Dataset?</h4></header> <article><p class="opacity-60">This will create a sample "Japan Trip 2024" group with 4 members and a "Tokyo Expenses"
					ledger with 6 example transactions.</p></article> <footer class="flex justify-end gap-4"><button type="button" class="btn preset-tonal">Cancel</button> <button type="button" class="btn preset-filled">Confirm</button></footer>`,1),gs=S('<div class="space-y-6 p-4"><header class="flex items-center justify-between"><h1 class="h1">Events</h1> <div class="flex flex-wrap justify-end"><button class="btn preset-tonal mr-2 h-10 w-10 p-0" title="Load Example Dataset"></button> <button class="btn preset-tonal mr-2">Manage Groups</button> <button class="btn preset-filled-primary-100-900">+ New Ledger</button></div></header> <!> <!> <button class="btn preset-filled w-full">+ Add Expense</button> <!> <!> <!> <!> <!></div>');function hs(t,e){Be(e,!0);let n=ne(!1),r=ne(!1),a=ne(!1),s=ne(!1),i=ne(!1),c=ne(null);const u=fe(()=>q.current.find(O=>O.id===ct.current)),v=fe(()=>se.current.find(O=>{var b;return O.id===((b=o(u))==null?void 0:b.groupId)})),f=fe(()=>{var O;return((O=o(v))==null?void 0:O.members)??[]});function h(O){T(c,O.detail,!0),T(a,!0)}function y(O){const b=O.detail;if(!o(u)||!confirm("Are you sure you want to delete this transaction? This cannot be undone."))return;const M=q.current.findIndex(z=>z.id===o(u).id);M>-1&&(q.current[M].transactions=q.current[M].transactions.filter(z=>z.id!==b),q.current=[...q.current])}var m=gs(),g=d(m),k=p(d(g),2),w=d(k);w.__click=[ns,i];var P=p(w,2);P.__click=[rs,n];var L=p(P,2);L.__click=[as,r],l(k),l(g);var D=p(g,2);{var C=O=>{var b=ss(),M=p(d(b),2),z=d(M);z.value=(z.__value=null)??"";var H=p(z);ue(H,17,()=>q.current,B=>B.id,(B,V)=>{var X=os(),R=d(X,!0);l(X);var I={};J(()=>{W(R,o(V).name),I!==(I=o(V).id)&&(X.value=(X.__value=o(V).id)??"")}),x(B,X)}),l(M),l(b),dn(M,()=>ct.current,B=>ct.current=B),x(O,b)},_=O=>{var b=cs(),M=p(d(b),4);M.__click=[is,r],l(b),x(O,b)};K(D,O=>{q.current&&q.current.length>0?O(C):O(_,!1)})}var E=p(D,2);{var A=O=>{var b=fs(),M=d(b),z=p(d(M),2),H=d(z);H.__click=[ls,s],l(z),l(M);var B=p(M,2);{var V=R=>{var I=ds();ue(I,21,()=>o(u).transactions,U=>U.id,(U,Q)=>{Vo(U,{get transaction(){return o(Q)},get groupMembers(){return o(f)},$$events:{delete:y,edit:h}})}),l(I),lt(I,U=>{var Q;return(Q=mt)==null?void 0:Q(U)}),x(R,I)},X=R=>{var I=us(),U=d(I),Q=d(U);l(U),kt(2),l(I),J(()=>W(Q,`No expenses logged for "${o(u).name??""}" yet.`)),x(R,I)};K(B,R=>{o(u).transactions.length>0?R(V):R(X,!1)})}l(b),x(O,b)};K(E,O=>{o(u)&&O(A)})}var F=p(E,2);F.__click=[ts,c,a];var N=p(F,2);Ie(N,{get open(){return o(n)},onOpenChange:b=>T(n,b.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:b=>{er(b,{close:()=>T(n,!1)})},$$slots:{content:!0}});var $=p(N,2);Ie($,{get open(){return o(r)},onOpenChange:b=>T(r,b.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:b=>{tr(b,{close:()=>T(r,!1)})},$$slots:{content:!0}});var G=p($,2);Ie(G,{get open(){return o(a)},onOpenChange:b=>T(a,b.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:b=>{var M=ge(),z=re(M);{var H=B=>{Io(B,{get ledger(){return o(u)},get transactionToEdit(){return o(c)},close:()=>T(a,!1)})};K(z,B=>{o(u)&&B(H)})}x(b,M)},$$slots:{content:!0}});var j=p(G,2);Ie(j,{get open(){return o(s)},onOpenChange:b=>T(s,b.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:b=>{var M=ge(),z=re(M);{var H=B=>{nr(B,{get ledger(){return o(u)},close:()=>T(s,!1)})};K(z,B=>{o(u)&&B(H)})}x(b,M)},$$slots:{content:!0}});var Y=p(j,2);Ie(Y,{get open(){return o(i)},onOpenChange:b=>T(i,b.open,!0),contentBase:"card bg-surface-800-900 p-4 space-y-4 shadow-xl max-w-screen-sm",content:b=>{var M=ms(),z=p(re(M),4),H=d(z);H.__click=[vs,i];var B=p(H,2);B.__click=[ps,i],l(z),x(b,M)},$$slots:{content:!0}}),l(m),lt(m,O=>{var b;return(b=mt)==null?void 0:b(O)}),x(t,m),Le()}Xe(["click"]);function bs(t,e,n){const r=[];for(const a of e.group.members){const s=o(n)[a.id];s&&s>0&&r.push({...a,amount:s})}e.onSave({payers:r})}var _s=S('<label class="label"><span> </span> <input class="input" type="number" placeholder="0.00"/></label>'),xs=S('<div class="card bg-surface-900 space-y-4 p-4 shadow-xl"><h3 class="h3">Edit Payers</h3> <div class="max-h-64 space-y-2 overflow-y-auto"></div> <footer class="flex justify-end"><button class="btn preset-filled-primary">Done</button></footer></div>');function Fn(t,e){Be(e,!0);let n=ne(et({}));Pt(()=>{const c={};for(const u of e.group.members){const v=e.payers.find(f=>f.id===u.id);c[u.id]=v?v.amount:null}T(n,c,!0)});var r=xs(),a=p(d(r),2);ue(a,21,()=>e.group.members,c=>c.id,(c,u)=>{var v=_s(),f=d(v),h=d(f,!0);l(f);var y=p(f,2);Fe(y),l(v),J(()=>W(h,o(u).name)),tt(y,()=>o(n)[o(u).id],m=>o(n)[o(u).id]=m),x(c,v)}),l(a);var s=p(a,2),i=d(s);i.__click=[bs,e,n],l(s),l(r),x(t,r),Le()}Xe(["click"]);function ys(t,e,n){const r=[];for(const a of e.group.members)o(n)[a.id]&&r.push(a);e.onSave({beneficiaries:r})}var ws=S('<label class="card flex items-center space-x-2 p-2"><input type="checkbox" class="checkbox"/> <span> </span></label>'),Os=S('<div class="card bg-surface-900 space-y-4 p-4 shadow-xl"><h3 class="h3">Edit Beneficiaries</h3> <div class="max-h-64 space-y-2 overflow-y-auto"></div> <footer class="flex justify-end"><button class="btn preset-filled-primary">Done</button></footer></div>');function Nn(t,e){Be(e,!0);let n=ne(et({}));Pt(()=>{const c={};for(const u of e.group.members)c[u.id]=e.beneficiaries.some(v=>v.id===u.id);T(n,c,!0)});var r=Os(),a=p(d(r),2);ue(a,21,()=>e.group.members,c=>c.id,(c,u)=>{var v=ws(),f=d(v);Fe(f);var h=p(f,2),y=d(h,!0);l(h),l(v),J(()=>W(y,o(u).name)),$n(f,()=>o(n)[o(u).id],m=>o(n)[o(u).id]=m),x(c,v)}),l(a);var s=p(a,2),i=d(s);i.__click=[ys,e,n],l(s),l(r),x(t,r),Le()}Xe(["click"]);var Cs=(t,e)=>T(e,!0),ks=(t,e)=>T(e,!0),As=(t,e)=>T(e,!0),Es=S("<option> </option>"),Ps=S('<div class="flex items-center space-x-2"><span class="font-bold">Active Ledger:</span> <select class="select"><option disabled selected>-- Select a Ledger --</option><!></select></div>'),Ss=(t,e)=>T(e,!0),Ts=S('<div class="card bg-surface-900 space-y-4 p-8 text-center"><h3 class="h3">Welcome!</h3> <p>Create your first ledger to start tracking expenses for a trip or event.</p> <button class="btn preset-filled">Create a Ledger</button></div>'),Bs=(t,e)=>T(e,!0),Ls=S('<span class="w-full"><span class="float-left font-medium"> </span>: <span class=" text-primary-500 float-right font-mono"> </span></span>'),Ds=S('<span class="opacity-70">None</span>'),Ms=S('<button class="btn !h-auto !min-h-10 w-full"><div class="flex w-full flex-col items-start"><!></div></button>'),Rs=S('<span class="opacity-70">None</span>'),Is=S('<span class="font-medium">Everyone</span>'),Fs=S('<span class="font-medium"> </span> <p class="mt-2 w-full text-left text-sm opacity-50"><span class="italic">Not included:</span> </p>',1),Ns=S('<div class="flex flex-col items-start space-y-1 pl-4"><!></div>'),$s=(t,e,n)=>e(o(n)),zs=S('<tr><td> </td><td class="borderra resize-none overflow-y-hidden align-middle hover:border" contenteditable="true"></td><td><!></td><td><!></td><td class="text-right font-bold"> </td><td class="text-center"><button class="btn-icon btn-icon-sm"></button></td></tr>'),js=(t,e)=>t.key==="Enter"&&e(),Ws=S('<button class="btn btn-sm w-full text-left"> </button>'),Hs=S('<button class="btn btn-sm text-left"> </button>'),Gs=S('<div class="flex items-center justify-between"><h2 class="h3"> </h2> <button class="btn preset-filled">Settle Up</button></div> <div class="table-container"><table class="table-interactive table"><thead><tr><th class="w-1">#</th><th class="w-4/12">Description</th><th class="!text-left">Paid By</th><th class="!text-center">Beneficiaries</th><th class="!text-right">Total</th><th class="!text-center"></th></tr></thead><tbody></tbody><tfoot><tr><td></td><td><input type="text" class="input" placeholder="Add new expense..."/></td><td><!></td><td><!></td><td class="text-right" colspan="2"><button class="btn btn-sm preset-filled-primary w-full">Add</button></td></tr></tfoot></table></div>',1),Vs=S('<span class="w-full"><span class="font-medium"> </span>: <span class="text-primary-500 float-right font-mono"> </span></span>'),Us=S('<span class="opacity-70">None</span>'),Ys=S("<span>Everyone</span>"),qs=S("<span> </span>"),Xs=S('<span class="opacity-70">None</span>'),Js=(t,e)=>T(e,!1),Ks=S('<div class="space-y-4 p-4"><h3 class="h3">Delete Transaction?</h3> <div class="card variant-soft p-4"><p class="text-lg font-bold"> </p> <div class="flex w-full"><div class="border-surface-300 mb-4 mt-4 flex w-1/2 flex-col items-start space-y-1 border-r pr-4"><p class="w-full text-center">Payers</p> <!></div> <div class="flex w-1/2 flex-col items-start space-y-1 pl-4"><p class="w-full text-center">Beneficiaries</p> <!></div></div> <p> </p></div> <footer class="flex justify-end space-x-2"><button class="btn preset-tonal">Cancel</button> <button class="btn preset-filled-warning">Confirm Delete</button></footer></div>'),Qs=(t,e)=>T(e,!1),Zs=(t,e)=>{zn(),T(e,!1)},ei=S(`<header class="flex justify-between"><h4 class="h4">Load Example Dataset?</h4></header> <article><p class="opacity-60">This will create a sample "Japan Trip 2024" group with 4 members and a "Tokyo Expenses"
					ledger with 6 example transactions.</p></article> <footer class="flex justify-end gap-4"><button type="button" class="btn preset-tonal">Cancel</button> <button type="button" class="btn preset-filled">Confirm</button></footer>`,1),ti=S('<div class="space-y-6 p-4"><header class="flex items-center justify-between"><h1 class="h1">Events</h1> <div><button class="btn preset-tonal mr-2 h-10 w-10 p-0" title="Load Example Dataset"></button> <button class="btn preset-tonal mr-2">Manage Groups</button> <button class="btn preset-filled-primary-100-900">+ New Ledger</button></div></header> <!> <!> <!> <!> <!> <!> <!></div>');function ni(t,e){Be(e,!0);let n=ne(!1),r=ne(!1),a=ne(!1),s=ne(!1);const i=fe(()=>{var R;return(R=q.current)==null?void 0:R.find(I=>I.id===ct.current)}),c=fe(()=>o(i)?se.current.find(R=>R.id===o(i).groupId):null);let u=ne(""),v=ne(et([])),f=ne(et([]));Pt(()=>{o(i)&&h()});function h(){var R;T(u,""),T(v,[],!0),T(f,((R=o(c))==null?void 0:R.members)??[],!0)}function y(){const R=o(v).reduce((Q,ve)=>Q+ve.amount,0);if(!o(i)||!o(u).trim()||R<=0){alert("Please provide a description and at least one payer.");return}const I={id:crypto.randomUUID(),description:o(u).trim(),payers:o(v),beneficiaries:o(f)},U=q.current.findIndex(Q=>Q.id===o(i).id);U>-1&&(q.current[U].transactions.push(I),q.current=[...q.current]),h()}function m(){q.current=[...q.current]}function g(){if(!o(i)||!o(_))return;const R=q.current.findIndex(I=>I.id===o(i).id);R>-1&&(q.current[R].transactions=q.current[R].transactions.filter(I=>I.id!==o(_).id),q.current=[...q.current]),T(C,!1),T(_,null)}function k(R){T(_,R,!0),T(C,!0)}let w=et({}),P=et({}),L=ne(!1),D=ne(!1),C=ne(!1),_=ne(null);var E=ti(),A=d(E),F=p(d(A),2),N=d(F);N.__click=[Cs,s];var $=p(N,2);$.__click=[ks,n];var G=p($,2);G.__click=[As,r],l(F),l(A);var j=p(A,2);{var Y=R=>{var I=Ps(),U=p(d(I),2),Q=d(U);Q.value=(Q.__value=null)??"";var ve=p(Q);ue(ve,17,()=>q.current,oe=>oe.id,(oe,he)=>{var le=Es(),we=d(le,!0);l(le);var ee={};J(()=>{W(we,o(he).name),ee!==(ee=o(he).id)&&(le.value=(le.__value=o(he).id)??"")}),x(oe,le)}),l(U),l(I),dn(U,()=>ct.current,oe=>ct.current=oe),x(R,I)},O=R=>{var I=Ts(),U=p(d(I),4);U.__click=[Ss,r],l(I),x(R,I)};K(j,R=>{q.current&&q.current.length>0?R(Y):R(O,!1)})}var b=p(j,2);{var M=R=>{var I=Gs(),U=re(I),Q=d(U),ve=d(Q);l(Q);var oe=p(Q,2);oe.__click=[Bs,a],l(U);var he=p(U,2),le=d(he),we=p(d(le));ue(we,21,()=>o(i).transactions,Oe=>Oe.id,(Oe,Z,pe)=>{var ie=zs(),We=d(ie),te=d(We,!0);l(We);var me=p(We);me.__change=m;var at=p(me),ot=d(at);Dt(ot,{get open(){return w[o(Z).id]},onOpenChange:Ae=>w[o(Z).id]=Ae.open,positioning:{placement:"bottom"},contentBase:"w-72 card p-4 space-y-4",triggerBase:"w-full",zIndex:"99",trigger:Ae=>{var Ee=Ms(),Bt=d(Ee),Xt=d(Bt);{var Jt=Pe=>{var ut=ge(),Kt=re(ut);ue(Kt,17,()=>o(Z).payers,yt=>yt.id,(yt,Ge)=>{var Ze=Ls(),it=d(Ze),Qt=d(it,!0);l(it);var wt=p(it,2),Zt=d(wt);l(wt),l(Ze),J(Ve=>{W(Qt,o(Ge).name),W(Zt,`$${Ve??""}`)},[()=>o(Ge).amount.toFixed(2)]),x(yt,Ze)}),x(Pe,ut)},Qe=Pe=>{var ut=Ds();x(Pe,ut)};K(Xt,Pe=>{o(Z).payers.length>0?Pe(Jt):Pe(Qe,!1)})}l(Bt),l(Ee),x(Ae,Ee)},content:Ae=>{Fn(Ae,{get payers(){return o(Z).payers},get group(){return o(c)},onSave:({payers:Ee})=>{o(Z).payers=Ee,m(),w[o(Z).id]=!1}})},$$slots:{trigger:!0,content:!0}}),l(at);var Ke=p(at),Ce=d(Ke);Dt(Ce,{get open(){return P[o(Z).id]},onOpenChange:Ae=>P[o(Z).id]=Ae.open,positioning:{placement:"bottom"},contentBase:"w-72 card p-4 space-y-4",trigger:Ae=>{var Ee=Ns(),Bt=d(Ee);{var Xt=Qe=>{var Pe=Rs();x(Qe,Pe)},Jt=Qe=>{var Pe=ge(),ut=re(Pe);{var Kt=Ge=>{var Ze=Is();x(Ge,Ze)},yt=Ge=>{var Ze=Fs(),it=re(Ze),Qt=d(it,!0);l(it);var wt=p(it,2),Zt=p(d(wt));l(wt),J((Ve,en)=>{W(Qt,Ve),W(Zt,` ${en??""}`)},[()=>o(Z).beneficiaries.map(Ve=>Ve.name).join(", "),()=>o(c).members.filter(Ve=>!o(Z).beneficiaries.some(en=>en.id===Ve.id)).map(Ve=>Ve.name).join(", ")||"None"]),x(Ge,Ze)};K(ut,Ge=>{o(Z).beneficiaries.length===o(c).members.length?Ge(Kt):Ge(yt,!1)},!0)}x(Qe,Pe)};K(Bt,Qe=>{o(Z).beneficiaries.length===0?Qe(Xt):Qe(Jt,!1)})}l(Ee),x(Ae,Ee)},content:Ae=>{Nn(Ae,{get beneficiaries(){return o(Z).beneficiaries},get group(){return o(c)},onSave:({beneficiaries:Ee})=>{o(Z).beneficiaries=Ee,m(),P[o(Z).id]=!1}})},$$slots:{trigger:!0,content:!0}}),l(Ke);var ke=p(Ke),_t=d(ke);l(ke);var He=p(ke),xt=d(He);xt.__click=[$s,k,Z],l(He),l(ie),J((_e,st)=>{W(te,_e),W(_t,`$${st??""}`)},[()=>o(i).transactions.indexOf(o(Z))+1,()=>o(Z).payers.reduce((_e,st)=>_e+st.amount,0).toFixed(2)]),Dr("innerText",me,()=>o(Z).description,_e=>o(Z).description=_e),x(Oe,ie)}),l(we),lt(we,Oe=>{var Z;return(Z=mt)==null?void 0:Z(Oe)});var ee=p(we),ae=d(ee),de=p(d(ae)),be=d(de);Fe(be),be.__keydown=[js,y],l(de);var De=p(de),Je=d(De);Dt(Je,{get open(){return o(D)},onOpenChange:pe=>T(D,pe.open,!0),positioning:{placement:"top"},contentBase:"w-72 card p-4 space-y-4",trigger:pe=>{var ie=Ws(),We=d(ie,!0);l(ie),J(te=>W(We,te),[()=>o(v).map(te=>te.name).join(", ")||"+ Add Payers"]),x(pe,ie)},content:pe=>{Fn(pe,{get payers(){return o(v)},get group(){return o(c)},onSave:({payers:ie})=>{T(v,ie,!0),T(D,!1)}})},$$slots:{trigger:!0,content:!0}}),l(De);var Me=p(De),Yt=d(Me);Dt(Yt,{get open(){return o(L)},onOpenChange:pe=>T(L,pe.open,!0),positioning:{placement:"top"},contentBase:"w-72 card p-4 space-y-4",trigger:pe=>{var ie=Hs(),We=d(ie,!0);l(ie),J(te=>W(We,te),[()=>o(f).length===o(c).members.length?"Everyone":o(f).map(te=>te.name).join(", ")||"+ Add Beneficiaries"]),x(pe,ie)},content:pe=>{Nn(pe,{get beneficiaries(){return o(f)},get group(){return o(c)},onSave:({beneficiaries:ie})=>{T(f,ie,!0),T(L,!1)}})},$$slots:{trigger:!0,content:!0}}),l(Me);var Tt=p(Me),qt=d(Tt);qt.__click=y,l(Tt),l(ae),l(ee),l(le),l(he),J(()=>W(ve,`Transactions for "${o(i).name??""}"`)),tt(be,()=>o(u),Oe=>T(u,Oe)),x(R,I)};K(b,R=>{o(i)&&o(c)&&R(M)})}var z=p(b,2);Ie(z,{get open(){return o(n)},onOpenChange:I=>T(n,I.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:I=>{er(I,{close:()=>T(n,!1)})},$$slots:{content:!0}});var H=p(z,2);Ie(H,{get open(){return o(r)},onOpenChange:I=>T(r,I.open,!0),contentBase:"w-full max-w-md bg-surface-900",content:I=>{tr(I,{close:()=>T(r,!1)})},$$slots:{content:!0}});var B=p(H,2);Ie(B,{get open(){return o(a)},onOpenChange:I=>T(a,I.open,!0),contentBase:"w-full max-w-lg bg-surface-900",content:I=>{var U=ge(),Q=re(U);{var ve=oe=>{nr(oe,{get ledger(){return o(i)},close:()=>T(a,!1)})};K(Q,oe=>{o(i)&&oe(ve)})}x(I,U)},$$slots:{content:!0}});var V=p(B,2);Ie(V,{get open(){return o(C)},contentBase:"w-full max-w-lg bg-surface-900",content:I=>{var U=ge(),Q=re(U);{var ve=oe=>{var he=Ks(),le=p(d(he),2),we=d(le),ee=d(we,!0);l(we);var ae=p(we,2),de=d(ae),be=p(d(de),2);{var De=te=>{var me=ge(),at=re(me);ue(at,17,()=>o(_).payers,ot=>ot.id,(ot,Ke)=>{var Ce=Vs(),ke=d(Ce),_t=d(ke,!0);l(ke);var He=p(ke,2),xt=d(He);l(He),l(Ce),J(_e=>{W(_t,o(Ke).name),W(xt,`$${_e??""}`)},[()=>o(Ke).amount.toFixed(2)]),x(ot,Ce)}),x(te,me)},Je=te=>{var me=Us();x(te,me)};K(be,te=>{o(_).payers.length>0?te(De):te(Je,!1)})}l(de);var Me=p(de,2),Yt=p(d(Me),2);{var Tt=te=>{var me=Ys();x(te,me)},qt=te=>{var me=ge(),at=re(me);{var ot=Ce=>{var ke=ge(),_t=re(ke);ue(_t,17,()=>o(_).beneficiaries,He=>He.id,(He,xt)=>{var _e=qs(),st=d(_e,!0);l(_e),J(()=>W(st,o(xt).name)),x(He,_e)}),x(Ce,ke)},Ke=Ce=>{var ke=Xs();x(Ce,ke)};K(at,Ce=>{o(_).beneficiaries.length>0?Ce(ot):Ce(Ke,!1)},!0)}x(te,me)};K(Yt,te=>{o(_).beneficiaries.length===o(c).members.length?te(Tt):te(qt,!1)})}l(Me),l(ae);var Oe=p(ae,2),Z=d(Oe);l(Oe),l(le);var pe=p(le,2),ie=d(pe);ie.__click=[Js,C];var We=p(ie,2);We.__click=g,l(pe),l(he),J(te=>{W(ee,o(_).description),W(Z,`Total amount: $${te??""}`)},[()=>(o(_).totalAmount??(o(_).payers??[]).reduce((te,me)=>te+me.amount,0)).toFixed(2)]),x(oe,he)};K(Q,oe=>{o(_)&&oe(ve)})}x(I,U)},$$slots:{content:!0}});var X=p(V,2);Ie(X,{get open(){return o(s)},onOpenChange:I=>T(s,I.open,!0),contentBase:"card bg-surface-800-900 p-4 space-y-4 shadow-xl max-w-screen-sm",content:I=>{var U=ei(),Q=p(re(U),4),ve=d(Q);ve.__click=[Qs,s];var oe=p(ve,2);oe.__click=[Zs,s],l(Q),x(I,U)},$$slots:{content:!0}}),l(E),lt(E,R=>{var I;return(I=mt)==null?void 0:I(R)}),x(t,E),Le()}Xe(["click","change","keydown"]);var ri=S('<div class="container mx-auto"><!></div>');function fi(t,e){Be(e,!0);let n=ne(!1);const r=768;ar(()=>{{const u=window.matchMedia(`(min-width: ${r}px)`);T(n,u.matches,!0);const v=f=>{T(n,f.matches,!0)};return u.addEventListener("change",v),()=>{u.removeEventListener("change",v)}}});var a=ri(),s=d(a);{var i=u=>{ni(u,{})},c=u=>{hs(u,{})};K(s,u=>{o(n)?u(i):u(c,!1)})}l(a),x(t,a),Le()}export{fi as component};
